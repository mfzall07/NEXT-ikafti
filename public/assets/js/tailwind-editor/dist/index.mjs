function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function l(){return Object.create(null)}function s(e){e.forEach(n)}function r(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,n,l,s){return e[1]&&s?t(l.ctx.slice(),e[1](s(n))):l.ctx}function a(e,t,n,l,s,r,o){const a=function(e,t,n,l){if(e[2]&&l){const s=e[2](l(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let l=0;l<n;l+=1)e[l]=t.dirty[l]|s[l];return e}return t.dirty|s}return t.dirty}(t,l,s,r);if(a){const s=i(t,n,l,o);e.p(s,a)}}function c(t){return t&&r(t.destroy)?t.destroy:e}function u(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function p(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function m(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function h(e){return document.createTextNode(e)}function x(){return h(" ")}function $(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function b(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function w(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function k(e,t){e.value=null==t?"":t}function y(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function C(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let _;function N(e){_=e}function M(){if(!_)throw new Error("Function called outside component initialization");return _}function H(){const e=M();return(t,n)=>{const l=e.$$.callbacks[t];if(l){const s=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);l.slice().forEach((t=>{t.call(e,s)}))}}}function L(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const E=[],T=[],I=[],A=[],B=Promise.resolve();let D=!1;function V(){D||(D=!0,B.then(Z))}function R(){return V(),B}function z(e){I.push(e)}function O(e){A.push(e)}let S=!1;const j=new Set;function Z(){if(!S){S=!0;do{for(let e=0;e<E.length;e+=1){const t=E[e];N(t),P(t.$$)}for(E.length=0;T.length;)T.pop()();for(let e=0;e<I.length;e+=1){const t=I[e];j.has(t)||(j.add(t),t())}I.length=0}while(E.length);for(;A.length;)A.pop()();D=!1,S=!1,j.clear()}}function P(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(z)}}const G=new Set;let W;function X(){W={r:0,c:[],p:W}}function U(){W.r||s(W.c),W=W.p}function F(e,t){e&&e.i&&(G.delete(e),e.i(t))}function K(e,t,n,l){if(e&&e.o){if(G.has(e))return;G.add(e),W.c.push((()=>{G.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}}const q="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Y(e,t,n){const l=e.$$.props[t];void 0!==l&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function J(e){e&&e.c()}function Q(e,t,l){const{fragment:o,on_mount:i,on_destroy:a,after_update:c}=e.$$;o&&o.m(t,l),z((()=>{const t=i.map(n).filter(r);a?a.push(...t):s(t),e.$$.on_mount=[]})),c.forEach(z)}function ee(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function te(t,n,r,o,i,a,c=[-1]){const u=_;N(t);const d=n.props||{},p=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:i,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:l(),dirty:c,skip_bound:!1};let g=!1;if(p.ctx=r?r(t,d,((e,n,...l)=>{const s=l.length?l[0]:n;return p.ctx&&i(p.ctx[e],p.ctx[e]=s)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](s),g&&function(e,t){-1===e.$$.dirty[0]&&(E.push(e),V(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],p.update(),g=!0,s(p.before_update),p.fragment=!!o&&o(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(f)}else p.fragment&&p.fragment.c();n.intro&&F(t.$$.fragment),Q(t,n.target,n.anchor),Z()}N(u)}class ne{$destroy(){ee(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var le={testImgUrl:e=>new Promise((function(t){let n,l=new Image;l.onerror=l.onabort=function(){clearTimeout(n),t(!1)},l.onload=function(){clearTimeout(n),t(!0)},n=setTimeout((function(){l.src="//!!!!/noexist.jpg",t(!1)}),5e3),l.src=e})),testVideoUrl:e=>/^https?:\/\/.*\.(mp4|ogg|webm)$/i.test(e.trim()),parseYouTube(e){const t=/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9_\-]+)/i.exec(e);if(t&&t[1])return"https://www.youtube.com/embed/"+t[1]},parseVimeo(e){const t=/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i.exec(e);if(t&&t[1])return"https://player.vimeo.com/video/"+t[1]}};const{window:se}=q;function re(e){let t,n,l=e[0].replace(/<div.*Edit iframe.*?<\/div>/gs,"")+"";return{c(){t=g("div"),v(t,"class",n="relative "+e[1]),v(t,"data-txteditor","true")},m(e,n){d(e,t,n),t.innerHTML=l},p(e,s){1&s[0]&&l!==(l=e[0].replace(/<div.*Edit iframe.*?<\/div>/gs,"")+"")&&(t.innerHTML=l),2&s[0]&&n!==(n="relative "+e[1])&&v(t,"class",n)},d(e){e&&f(t)}}}function oe(t){let n;return{c(){n=g("br")},m(e,t){d(e,n,t)},p:e,d(e){e&&f(n)}}}function ie(e){let t,n;return{c(){t=g("h6"),v(t,"class",n="relative "+e[1]),v(t,"data-txteditor","true")},m(n,l){d(n,t,l),t.innerHTML=e[0]},p(e,l){1&l[0]&&(t.innerHTML=e[0]),2&l[0]&&n!==(n="relative "+e[1])&&v(t,"class",n)},d(e){e&&f(t)}}}function ae(e){let t,n;return{c(){t=g("h5"),v(t,"class",n="relative "+e[1]),v(t,"data-txteditor","true")},m(n,l){d(n,t,l),t.innerHTML=e[0]},p(e,l){1&l[0]&&(t.innerHTML=e[0]),2&l[0]&&n!==(n="relative "+e[1])&&v(t,"class",n)},d(e){e&&f(t)}}}function ce(e){let t,n;return{c(){t=g("h4"),v(t,"class",n="relative "+e[1]),v(t,"data-txteditor","true")},m(n,l){d(n,t,l),t.innerHTML=e[0]},p(e,l){1&l[0]&&(t.innerHTML=e[0]),2&l[0]&&n!==(n="relative "+e[1])&&v(t,"class",n)},d(e){e&&f(t)}}}function ue(e){let t,n;return{c(){t=g("h3"),v(t,"class",n="relative "+e[1]),v(t,"data-txteditor","true")},m(n,l){d(n,t,l),t.innerHTML=e[0]},p(e,l){1&l[0]&&(t.innerHTML=e[0]),2&l[0]&&n!==(n="relative "+e[1])&&v(t,"class",n)},d(e){e&&f(t)}}}function de(e){let t,n;return{c(){t=g("h2"),v(t,"class",n="relative "+e[1]),v(t,"data-txteditor","true")},m(n,l){d(n,t,l),t.innerHTML=e[0]},p(e,l){1&l[0]&&(t.innerHTML=e[0]),2&l[0]&&n!==(n="relative "+e[1])&&v(t,"class",n)},d(e){e&&f(t)}}}function fe(e){let t,n;return{c(){t=g("h1"),v(t,"class",n="relative "+e[1]),v(t,"data-txteditor","true")},m(n,l){d(n,t,l),t.innerHTML=e[0]},p(e,l){1&l[0]&&(t.innerHTML=e[0]),2&l[0]&&n!==(n="relative "+e[1])&&v(t,"class",n)},d(e){e&&f(t)}}}function pe(e){let t,n,l,r,o;return{c(){t=g("div"),v(t,"data-txtcustom",e[3]),v(t,"data-txteditor","true"),v(t,"spellcheck","false"),v(t,"contenteditable","true"),v(t,"class",n="outline-none focus:outline-none relative "+e[1]),void 0===e[0]&&z((()=>e[20].call(t)))},m(n,s){d(n,t,s),e[19](t),void 0!==e[0]&&(t.innerHTML=e[0]),r||(o=[c(l=e[14].call(null,t)),$(t,"paste",e[15]),$(t,"blur",e[17]),$(t,"mousemove",e[12]),$(t,"mouseup",b(e[18])),$(t,"input",e[20]),$(t,"keydown",e[11]),$(t,"mouseup",e[13]),$(t,"keyup",e[13])],r=!0)},p(e,l){8&l[0]&&v(t,"data-txtcustom",e[3]),2&l[0]&&n!==(n="outline-none focus:outline-none relative "+e[1])&&v(t,"class",n),1&l[0]&&e[0]!==t.innerHTML&&(t.innerHTML=e[0])},d(n){n&&f(t),e[19](null),r=!1,s(o)}}}function ge(t){let n,l,s;function r(e,t){return e[2]?pe:e[5]?fe:e[6]?de:e[7]?ue:e[8]?ce:e[9]?ae:e[10]?ie:e[0]?re:oe}let o=r(t),i=o(t);return{c(){i.c(),n=h("")},m(e,r){i.m(e,r),d(e,n,r),l||(s=$(se,"mousemove",t[16]),l=!0)},p(e,t){o===(o=r(e))&&i?i.p(e,t):(i.d(1),i=o(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&f(n),l=!1,s()}}}let me="code text-sm font-mono px-8 py-6 bg-gray-100",he="quote text-xl border-l-4 border-gray-800 px-4 font-serif",xe=/md:text\-(sm\stext-sm|base\stext-base|xl\stext-lg|2xl\stext-xl|3xl\stext-xl|4xl\stext-2xl|5xl\stext-3xl|6xl\stext-4xl)/,$e=/md:text\-(sm\stext-sm|base\stext-base|xl\stext-lg|2xl\stext-xl|3xl\stext-xl|4xl\stext-2xl|5xl\stext-3xl|6xl\stext-4xl)/,be=/leading\-(none|tight|snug|normal|relaxed|loose)/,ve=/text\-(left|right|center)/,we=/^p[lrtb]\-/,ke=/^m[lrtb]\-/,ye=/^text\-(gray|red|yellow|green|blue|indigo|purple|pink|white|black|transparent)/,Ce=/^bg\-(gray|red|yellow|green|blue|indigo|purple|pink|white|black|transparent)/;const _e=/font\-(thin|normal|semibold|bold|black)/;function Ne(e){return e?.dataset?.txtcustom?"true"==e?.dataset?.txtcustom:!!e?.parentNode&&Ne(e.parentNode)}function Me(e,t,n,l){let s=n,r=l||e[t]?.txt?.length||e.length+1;if(l&&l<n&&(s=l,r=n),e[t]&&!e[t].txt)return[{txt:""},{txt:"",klass:e[t].klass,tag:e[t].tag,href:e[t].href}];let o=e[t]?.txt.slice(0,s),i=e[t]?.txt.slice(s,r),a=[],c=0;return o&&(a[c++]={txt:o,klass:e[t].klass,tag:e[t].tag,href:e[t].href}),i&&(a[c++]={txt:i,klass:e[t].klass,tag:e[t].tag,href:e[t].href}),l&&e[t]?.txt.slice(r,e[t].txt.length)&&(a[c++]={txt:e[t].txt.slice(r,e[t].txt.length),klass:e[t].klass,tag:e[t].tag,href:e[t].href}),a}function He(e){let t=e;if(!e)return-1;if("DIV"==e.nodeName){if(t=e.children[0],!t)return-1}else["SPAN","A"].includes(e.parentNode.tagName)&&(t=e.parentNode);return[...t.parentNode.childNodes].filter((e=>"#text"!=e.nodeName||e.length>0)).indexOf(t)}function Le(e,t,n){let l=H(),s=[],{html:r=""}=t,{gklass:o=""}=t,{editable:i=!0}=t,{custom:a=!1}=t;async function c(){let e=document.createElement("div");e.innerHTML=r;let t=[];for(let n of[...e.childNodes]){const e=e=>n.hasAttribute(e);"BR"==n.nodeName?t.push({tag:"BR",txt:""}):"A"==n.nodeName?t.push({tag:"A",txt:n.textContent,href:n.getAttribute("href"),blank:"_blank"==n.getAttribute("target"),klass:n.classList&&[...n.classList].join(" ")}):"IMG"==n.nodeName?t.push({tag:"IMG",txt:n.getAttribute("alt"),href:n.getAttribute("src"),klass:n.classList&&[...n.classList].join(" ")}):"VIDEO"==n.nodeName?t.push({tag:"VIDEO",href:n.getAttribute("src"),klass:n.classList&&[...n.classList].join(" "),opts:{autoplay:e("autoplay"),loop:e("loop"),muted:e("muted"),controls:e("controls")}}):n.dataset?.iframe?t.push({tag:"IFRAME",href:n.lastChild.getAttribute("src"),klass:n.lastChild.classList&&[...n.lastChild.classList].join(" ")}):"SPAN"==n.nodeName?t.push({txt:n.innerText,klass:n.classList&&[...n.classList].join(" ")}):"#text"!==n.nodeName?t.push({htxt:`${n.outerHTML}`,klass:n.classList&&[...n.classList].join(" ")}):"#text"==n.nodeName&&n.length>0&&t.push({txt:n.textContent})}s=t,await R(),h()}let u=!1;var d;d=()=>{n(22,u=!0),c(),document.onselectionchange=function(){window.cursor_change=+new Date}},M().$$.on_mount.push(d);const f=["B".charCodeAt(0),"U".charCodeAt(0),"I".charCodeAt(0)];function p(e){let t="";return e.forEach((e=>{let n=e.txt;if(e.txt&&(n=e.txt.replaceAll("<","&lt;").replaceAll(">","&gt;")),e.htxt)t+=e.htxt;else if("BR"==e.tag)t+="<br>";else if("A"==e.tag)t+=`<a href=${e.href} target=${e.blank?"_blank":"_self"} class="${e.klass}">${n}</a>`;else if("IMG"==e.tag)t+=`<img src=${e.href} class="${e.klass}" alt="${n}" />`;else if("VIDEO"==e.tag)t+=`<video src=${e.href} class="${e.klass}" ${e.opts?.loop?"loop":""} ${e.opts?.autoplay?"autoplay":""} ${e.opts?.muted?"muted":""} ${e.opts?.controls?"controls":""} />`;else if("IFRAME"==e.tag){let n="";i&&(n='<div class="p-1 text-xs w-32 bg-yellow-200 text-yellow-800 cursor-pointer underline text-center">\n\t\t\t\t\t\tEdit iframe\n\t\t\t\t\t</div>'),t+=`<div class="iframe-wrap" data-iframe="true" contenteditable="false">\n\t\t\t\t\t${n}\n\t\t\t\t\t<iframe src=${e.href} class="${e.klass}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen />\n\t\t\t\t</div>`}else e.klass?t+=`<span class="${e.klass}">${n}</span>`:t+=n})),t}function g(){n(0,r=p(s))}let m=i;function h(){$&&[...$.childNodes].forEach(((e,t)=>{(["IMG","VIDEO"].includes(e.nodeName)||e.classList?.contains("iframe-wrap"))&&e.addEventListener("click",(e=>function(e,t){let n=s[t],r={alt:n?.txt||""};"VIDEO"==e.tagName&&(r={opts:n?.opts||{}});l("set_media",{setMedia:e=>{D(e),"VIDEO"==e.media_type?O(e.klass,e.opts,e.src,t):"IMG"==e.media_type?z(e.klass,e.alt,e.src,t):"IFRAME"==e.media_type&&S(e.klass,e.src,t)},base_node:e,media_type:e.tagName,src:n?.href||"",klass:n?.klass||"",...r,delMedia:()=>V(t),mouseX:x})}(e.currentTarget,t)))}))}let x,$,b,v,w,k,y,C,_,N=null;async function E(e){N||(N={start_i:e.baseOffset,end_i:e.extentOffset,b_node:e.anchorNode,e_node:e.focusNode})}async function I(e,t,n={}){s.forEach((e=>delete e.selected));let r=window.getSelection(),o=(r.toString(),N?N.start_i:r.baseOffset),i=N?N.end_i:r.extentOffset,a=N?N.b_node:r.anchorNode,c=N?N.e_node:r.focusNode,u=He(a),d=He(c),f=a==c,p=u,m=d;if(u>d){p=d,m=u;let e=o;o=i,i=e}let h=a.parentNode;"DIV"!==a.parentNode.tagName&&(h=h.parentNode);let x=s.slice(p,m+1),$=Me(x,0,o,f&&i),b=1==$.length?$:2!=$.length||0!=o&&0!=i?[$[1]]:[$[0]];x.splice(0,1,...$);let v=[];f||(v=Me(x,x.length-1,i,!1),x.splice(x.length-1,1,...v),b=b.concat(x.slice(1,x.length-(1==v.length?0:1)))),function(e,t,n,s={}){if(ye.test(t)||Ce.test(t))return function(e,t){for(let n of e)if(n.klass){let e=n.klass.split(" "),l=e.findIndex((e=>t.startsWith("text")?ye.test(e):Ce.test(e))),s=~l?e[l]:"";s&&(n.klass=n.klass.replace(s,"").trim()),n.klass=n.klass.split(" ").concat([t]).join(" ")}else n.klass=t}(e,t),void l("changeClass");if(_e.test(t))return function(e,t){for(let n of e)if(n.klass){let e=n.klass.split(" "),l=e.findIndex((e=>_e.test(e))),s=~l?e[l]:"";s&&(n.klass=n.klass.replace(s,"").trim()),n.klass=n.klass.split(" ").concat([t]).join(" ")}else n.klass=t}(e,t),void l("changeClass");if(e.find((e=>!("BR"==e.tag||e.klass&&e.klass.includes(t)))))for(let l of e)"BR"!=l.tag&&n&&(l.tag="A",l.href=n,l.blank=!!s.blank),l.klass&&l.klass.includes(t)||(l.klass=l.klass?l.klass.split(" ").concat([t]).join(" "):t,l.tag=l.tag);else for(let l of e)"BR"!=l.tag&&n&&(l.tag="A",l.href=n,l.blank=!!s.blank),!n&&"IMG"!=l.tag&&l.klass&&l.klass.includes("link")&&(delete l.href,delete l.tag),n||(l.klass=l.klass?l.klass.replace(t,"").trim():""),""==l.klass&&delete l.klass;l("changeClass")}(b,e,t,n),b.forEach((e=>e.selected=!0)),s.splice(p,m-p+1,...x);let w={};!function(e){let t=[{...s[0]}];s[0].selected&&(e.s_start=0,e.a_start=0,e.s_end=s[0].txt.length,e.a_end=0);for(let n=1;n<s.length;n++)s[n].txt&&s[n].tag==s[n-1].tag&&s[n].klass==s[n-1].klass?(s[n].selected&&!s[n-1].selected&&(e.s_start=t[t.length-1].txt.length,e.a_start=t.length-1,e.s_end=t[t.length-1].txt.length+s[n].txt.length,e.a_end=t.length-1),t[t.length-1].txt+=s[n].txt):s[n].txt?(t.push({...s[n]}),s[n].selected&&!s[n-1].selected&&(e.s_start=0,e.a_start=t.length-1,e.s_end=t[t.length-1].txt.length,e.a_end=t.length-1)):"BR"==s[n].tag&&t.push({...s[n]}),s[n].selected&&s[n-1].selected&&(e.s_end=t[t.length-1].txt.length,e.a_end=t.length-1);s=t}(w),g(),N=null,await R();let k=[...h.childNodes].filter((e=>"#text"!==e.nodeName||"#text"==e.nodeName&&e.length>0)),y=k[w.a_start],C=k[w.a_end];y="#text"==y.nodeName?y:y.firstChild,C="#text"==C.nodeName?C:C.firstChild,await new Promise((e=>setTimeout(e))),window.getSelection().removeAllRanges(),window.getSelection().setBaseAndExtent(y,w.s_start,C,w.s_end),E(window.getSelection())}async function A(e){if(e)if(xe.test(e))n(1,o=o.replace(me,"").replace(he,"").trim()),B(e,xe);else if(e.startsWith("code"))o.includes(me)||(n(1,o=o.replace(he,"").replace($e,"").trim()),n(1,o+=" "+me));else if(e.startsWith("quote"))o.includes(he)||(n(1,o=o.replace(me,"").replace($e,"").trim()),n(1,o+=" "+he));else if(we.test(e)){B(e,new RegExp(`p${e[1]}-[^\\s]+`))}else if(ke.test(e)){B(e,new RegExp(`m${e[1]}-[^\\s]+`))}else ve.test(e)?B(e,ve):be.test(e)?B(e,be):function(e){o.includes(e)?n(1,o=o.replace(e,"").trim()):n(1,o=o.split(" ").concat([e]).join(" "))}(e);else elm.klass=e;l("changeClass")}function B(e,t){n(1,o=o.replace(t,"").replace(/\s+/," ").trim()),n(1,o=o+" "+e)}function D(e){let t=e.klass.match(/z-\d+/)?.[0]||"",l=e.klass.match(/float-\w+/)?.[0]||"";t&&n(1,o=o.replace(/z-\d+/,"")),l&&n(1,o=o.replace(/float-\w+/,"")),n(1,o+=` ${t} ${l} `),n(1,o=o.replace(/\s+/g," ")),e.klass=e.klass.replace(/z-\d+/,"").replace(/float-\w+/,"")}function V(e){s.splice(e,1),g()}function z(e,t,n,l){s[l]={tag:"IMG",href:n,txt:t,klass:e},g()}function O(e,t,n,l){s[l]={tag:"VIDEO",href:n,opts:t,klass:e},g()}function S(e,t,n){s[n]={tag:"IFRAME",href:t,klass:e},g()}function j(){l("hideselect")}function Z(e){return new Promise((t=>{if(null!==e){let l=new FileReader;l.onload=function(e){const l=e.target.result,s=new Image;s.src=l,s.onload=()=>{let e=function(e){const t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),t.toDataURL("image/webp")}(s);n(0,r=r.replace(l,e))},t(e.target.result)},l.readAsDataURL(e)}else t()}))}return e.$$set=e=>{"html"in e&&n(0,r=e.html),"gklass"in e&&n(1,o=e.gklass),"editable"in e&&n(2,i=e.editable),"custom"in e&&n(3,a=e.custom)},e.$$.update=()=>{4194305&e.$$.dirty[0]&&u&&(r?c():s=[]),4&e.$$.dirty[0]&&i&&setTimeout(h),8388612&e.$$.dirty[0]&&m!=i&&(n(23,m=i),g()),2&e.$$.dirty[0]&&n(5,v=o.includes("text-6xl")),2&e.$$.dirty[0]&&n(6,w=o.includes("text-5xl")),2&e.$$.dirty[0]&&n(7,k=o.includes("text-4xl")),2&e.$$.dirty[0]&&n(8,y=o.includes("text-3xl")),2&e.$$.dirty[0]&&n(9,C=o.includes("text-2xl")),2&e.$$.dirty[0]&&n(10,_=o.includes("text-xl"))},[r,o,i,a,b,v,w,k,y,C,_,async function(e){if(e.ctrlKey&&f.includes(e.keyCode))return void e.preventDefault();if(e.ctrlKey&&e.keyCode=="Z".charCodeAt(0))return void l("back");if(e.ctrlKey&&e.keyCode=="Y".charCodeAt(0))return void l("forward");let t=window.getSelection(),n=t.anchorNode,i=t.focusNode,a=t.baseOffset;if(t.extentOffset,!n)return;let c="DIV"==n?.tagName?n:"DIV"==n.parentNode.tagName?n.parentNode:n.parentNode.parentNode,u=c;for(;!u?.dataset?.txteditor&&"HTML"!=u?.tagName;)u=u.parentNode;let d=He(n);if(He(i),38==e.keyCode&&n==i&&0==a&&d<=0){let n=u.previousElementSibling;for(;n&&n.previousElementSibling&&!n.isContentEditable;)n=n.previousElementSibling;if(n&&n.isContentEditable)return n.focus(),e.preventDefault(),((e,n="up")=>{let l=[...e.childNodes],s=l[l.length-1];if(!s)return;if(s=["#text","BR","IMG","VIDEO"].includes(s.nodeName)||s?.dataset?.iframe?s:s.childNodes[0],!s)return!1;let r="up"==n?s.textContent.length:0;try{t.setBaseAndExtent(s,r,s,r)}catch{}})(n,"up"),!1}if(40==e.keyCode&&n==i&&(await new Promise((e=>setTimeout(e))),+new Date-window.cursor_change>50&&"true"==u.dataset.txtcustom||"true"!==u.dataset.txtcustom&&d>=s.length-1||(-1==d||a==s.length-1)&&"BR"==s[s.length-1].tag)){let t=u.nextElementSibling;for(;t&&t.nextElementSibling&&!t.isContentEditable;)t=t.nextElementSibling;if(t&&t.isContentEditable)return t.focus(),e.preventDefault(),!1}if(46==e.keyCode){if(Ne(n))return void(n?.dataset?.txteditor&&!n?.innerHTML&&l("merge_next",""));let r=s.length&&"BR"==s[s.length-1].tag?s.slice(0,s.length-1):s;if(!~d&&!r.length||"DIV"==n.tagName&&0==d&&a==r.length||d==r.length-1&&a==r[r.length-1].txt?.length&&!t.toString()){let n,s,r=c;if(r&&r.isContentEditable&&(r.childNodes.length?(n=r.childNodes.length-1,s=r.childNodes[r.childNodes.length-1].textContent.length):r.focus()),l("merge_next"),e.preventDefault(),await new Promise((e=>setTimeout(e))),void 0!==n){let e=r.childNodes[n];"#text"!==e.nodeName&&"BR"!==e.nodeName&&(e=e.childNodes[0]),t.setBaseAndExtent(e,s,e,s)}return}}if(8==e.keyCode){if(Ne(n))return void(n?.dataset?.txteditor&&!n?.innerHTML&&l("merge_prev",""));if(0==a&&(0==d||-1==d)){let n,s,o=c.previousElementSibling;if(o&&!o.isContentEditable&&(o=o.previousElementSibling),o&&o.isContentEditable&&(o.childNodes.length?(n=o.childNodes.length-1,s=o.childNodes[o.childNodes.length-1].textContent.length):o.focus()),e.preventDefault(),l("merge_prev",r),await new Promise((e=>setTimeout(e))),void 0!==n){let e=o.childNodes[n];"#text"!==e.nodeName&&"BR"!==e.nodeName&&(e=e.childNodes[0]);try{t.setBaseAndExtent(e,s,e,s)}catch{}}}}if(13==e.keyCode&&0==e.shiftKey){let t="",i="",c=-1==d?s.length-1:d+("DIV"==n.tagName&&a>0?a-1:0);if(Ne(n))return e.preventDefault(),void l("enter",{html:r.trim(),next_html:"",klass:o,target:e.currentTarget});if(s.length>0&&~d){let e=Me(s,c,a);s.splice(c,1,...e);let n=c+(0==a?0:1);t=p(s.slice(0,n)),i=p(s.slice(n,s.length))}return~d||(t=p(s)),l("enter",{html:t.trim(),next_html:i.trim(),klass:o,target:e.currentTarget}),e.preventDefault(),!1}if(13==e.keyCode&&1==e.shiftKey){let e="#text"!=n.nodeName?n.parentNode:n.parentNode.parentNode;if(await new Promise((e=>setTimeout(e))),Ne(e))return;if("DIV"!=n.nodeName&&(n.parentNode&&"DIV"!=n.parentNode.tagName||!["BR","#text"].includes(n.nodeName))){let l="#text"!=n.nodeName?n:n.parentNode;if(!l.parentNode){g(),await new Promise((e=>setTimeout(e)));let n=e.childNodes[d];return void t.setBaseAndExtent(n,0,n,0)}let r=[...l.childNodes],o=[];for(let e of r)e&&e.textContent?o.push({txt:e.textContent,klass:s[d]?.klass||"",tag:l.tagName}):o.push({tag:"BR",txt:""});s.splice(d,1,...o),g(),await new Promise((e=>setTimeout(e)));let i=e.childNodes["BR"==o[0].tag?d:d+2];t.setBaseAndExtent(i,0,i,0)}}e.ctrlKey||e.shiftKey||e.altKey||l("input",e)},function(e){x=e.clientX},function(e){let t=window.getSelection(),n=t.toString(),r=t.anchorNode,i=t.focusNode,a=He(r),c=He(i);if(r?.nodeName)if("DIV"!=r.nodeName&&"DIV"!=i.nodeName)if(N=null,n){E(t);let e=function(e,t){if(e>t){let n=e;e=t,t=n}let n=s.slice(e,t+1);if(!n[0]||!n[0].klass)return"";let l=n[0].klass,r=l.split(" ");for(let e=1;e<n.length;e++){let t=n[e];for(let e of r)t.klass&&!t.klass.includes(e)&&(l=l.replace(e,"").trim())}return l}(a,c),{href:n,blank:i}=function(e,t){if(e>t){let n=e;e=t,t=n}let n=s.slice(e,t+1),l="",r=!0;for(let e=0;e<n.length;e++){let t=n[e];if(t.href){l=t.href,r=t.blank;break}}return{href:l,blank:r}}(a,c);if(Ne(r))return;l("select",{setClass:I,setGClass:A,base_node:r,classes:e,g_classes:o,href:n,blank:i,mouseX:x})}else!async function(e,t,n){let s=t.textContent.split(" ").pop();if(s&&s.startsWith("https")){let e=await le.testImgUrl(s.trim()),r=le.testVideoUrl(s.trim()),o=le.parseYouTube(s.trim())||le.parseVimeo(s.trim());(e||r||o)&&l("set_media",{setMedia:t=>{D(t),e?z(t.klass,t.alt,s,n):r?O(t.klass,t.opts,s,n):o&&S(t.klass,o,n)},media_type:e?"IMG":r?"VIDEO":o?"IFRAME":"AUDIO",base_node:t,src:o||s,delMedia:()=>V(n),mouseX:x})}}(0,r,a),j();else j()},function(e){$=e},function(e){const t=(e.clipboardData||e.originalEvent.clipboardData).items;let s=null;for(let e=0;e<t.length;e++)0===t[e].type.indexOf("image")&&(s=t[e].getAsFile());if(null!==s)Z(s);else{let t=e.path?.[0];if("BR"==t.tagName&&(t=e.path?.[1]),r.trim()){let t=(e.clipboardData||window.clipboardData).getData("text");e.preventDefault();const s=window.getSelection();if(!s.rangeCount)return!1;s.deleteFromDocument(),s.getRangeAt(0).insertNode(document.createTextNode(t)),n(0,r=b.innerHTML),c(),g(),l("input")}else l("pasteTxt",t);e.stopPropagation()}},function(){l("update")},function(t){L(e,t)},function(t){L(e,t)},function(e){T[e?"unshift":"push"]((()=>{b=e,n(4,b)}))},function(){r=this.innerHTML,n(0,r)}]}class Ee extends ne{constructor(e){super(),te(this,e,Le,ge,o,{html:0,gklass:1,editable:2,custom:3},[-1,-1])}}function Te(t){let n,l,s;return{c(){n=m("svg"),l=m("path"),s=m("path"),v(l,"d","M8.46457 14.1213C8.07404 14.5118 8.07404 15.145 8.46457 15.5355C8.85509 15.926 9.48825 15.926 9.87878 15.5355L15.5356 9.87862C15.9262 9.4881 15.9262 8.85493 15.5356 8.46441C15.1451 8.07388 14.5119 8.07388 14.1214 8.46441L8.46457 14.1213Z"),v(l,"fill","currentColor"),v(s,"fill-rule","evenodd"),v(s,"clip-rule","evenodd"),v(s,"d","M6.34315 17.6569C9.46734 20.781 14.5327 20.781 17.6569 17.6569C20.781 14.5327 20.781 9.46734 17.6569 6.34315C14.5327 3.21895 9.46734 3.21895 6.34315 6.34315C3.21895 9.46734 3.21895 14.5327 6.34315 17.6569ZM16.2426 16.2426C13.8995 18.5858 10.1005 18.5858 7.75736 16.2426C5.41421 13.8995 5.41421 10.1005 7.75736 7.75736C10.1005 5.41421 13.8995 5.41421 16.2426 7.75736C18.5858 10.1005 18.5858 13.8995 16.2426 16.2426Z"),v(s,"fill","currentColor"),v(n,"class","w-4 h-4 text-red-700 fill-current"),v(n,"viewBox","0 0 24 24"),v(n,"fill","none"),v(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){d(e,n,t),u(n,l),u(n,s)},p:e,i:e,o:e,d(e){e&&f(n)}}}class Ie extends ne{constructor(e){super(),te(this,e,null,Te,o,{})}}function Ae(e,t,n){const l=e.slice();return l[11]=t[n],l}function Be(e,t,n){const l=e.slice();return l[8]=t[n],l[10]=n,l}function De(e){let t,n,l,s;function r(...t){return e[6](e[11],e[10],...t)}return{c(){t=g("div"),v(t,"class",n="bg-"+e[11]+"-"+100*(e[10]+1)+" w-5 h-5 cursor-pointer")},m(e,n){d(e,t,n),l||(s=$(t,"click",r),l=!0)},p(t,n){e=t},d(e){e&&f(t),l=!1,s()}}}function Ve(e){let t,n,l=e[0],s=[];for(let t=0;t<l.length;t+=1)s[t]=De(Ae(e,l,t));return{c(){t=g("div");for(let e=0;e<s.length;e+=1)s[e].c();n=x(),v(t,"class","flex")},m(e,l){d(e,t,l);for(let e=0;e<s.length;e+=1)s[e].m(t,null);u(t,n)},p(e,r){if(3&r){let o;for(l=e[0],o=0;o<l.length;o+=1){const i=Ae(e,l,o);s[o]?s[o].p(i,r):(s[o]=De(i),s[o].c(),s[o].m(t,n))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},d(e){e&&f(t),p(s,e)}}}function Re(e){let t,n,l,r,o,i,a,c,m,h,b,w,k;m=new Ie({});let y=new Array(8),C=[];for(let t=0;t<y.length;t+=1)C[t]=Ve(Be(e,y,t));return{c(){t=g("div"),n=g("div"),l=g("div"),r=g("div"),o=x(),i=g("div"),a=x(),c=g("div"),J(m.$$.fragment),h=x();for(let e=0;e<C.length;e+=1)C[e].c();v(r,"class","bg-black  w-5 h-5 cursor-pointer"),v(i,"class","bg-white border border-gray-400 w-5 h-5 cursor-pointer"),v(c,"class","bg-white border-t border-b border-r border-gray-400 w-5 h-5 flex items-center justify-center cursor-pointer"),v(l,"class","flex items-center"),v(n,"class","shadow-xl border border-gray-200"),v(t,"class","flex")},m(s,f){d(s,t,f),u(t,n),u(n,l),u(l,r),u(l,o),u(l,i),u(l,a),u(l,c),Q(m,c,null),u(n,h);for(let e=0;e<C.length;e+=1)C[e].m(n,null);b=!0,w||(k=[$(r,"click",e[3]),$(i,"click",e[4]),$(c,"click",e[5])],w=!0)},p(e,[t]){if(3&t){let l;for(y=new Array(8),l=0;l<y.length;l+=1){const s=Be(e,y,l);C[l]?C[l].p(s,t):(C[l]=Ve(s),C[l].c(),C[l].m(n,null))}for(;l<C.length;l+=1)C[l].d(1);C.length=y.length}},i(e){b||(F(m.$$.fragment,e),b=!0)},o(e){K(m.$$.fragment,e),b=!1},d(e){e&&f(t),ee(m),p(C,e),w=!1,s(k)}}}function ze(e,t,n){let l=H(),{selected_color:s=""}=t;function r(e,t){n(2,s=t),l("select",t),e.preventDefault(),e.stopPropagation()}return e.$$set=e=>{"selected_color"in e&&n(2,s=e.selected_color)},[["gray","red","yellow","green","blue","indigo","purple","pink"],r,s,e=>r(e,"black"),e=>r(e,"white"),e=>r(e,"transparent"),(e,t,n)=>r(n,`${e}-${100*(t+1)}`)]}class Oe extends ne{constructor(e){super(),te(this,e,ze,Re,o,{selected_color:2})}}function Se(t){let n,l;return{c(){n=m("svg"),l=m("path"),v(l,"d","M6.34317 7.75732L4.92896 9.17154L12 16.2426L19.0711 9.17157L17.6569 7.75735L12 13.4142L6.34317 7.75732Z"),v(l,"fill","currentColor"),v(n,"class","w-4 h-4 text-gray-700"),v(n,"viewBox","0 0 24 24"),v(n,"fill","none"),v(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){d(e,n,t),u(n,l)},p:e,i:e,o:e,d(e){e&&f(n)}}}class je extends ne{constructor(e){super(),te(this,e,null,Se,o,{})}}const{window:Ze}=q;function Pe(e){let t,n,l,s;return n=new Oe({props:{selected_color:e[3]}}),n.$on("select",e[5]),{c(){t=g("div"),J(n.$$.fragment),v(t,"class",l="absolute left-0 "+e[4]+" z-920 bg-white")},m(l,r){d(l,t,r),Q(n,t,null),e[10](t),s=!0},p(e,r){const o={};8&r&&(o.selected_color=e[3]),n.$set(o),(!s||16&r&&l!==(l="absolute left-0 "+e[4]+" z-920 bg-white"))&&v(t,"class",l)},i(e){s||(F(n.$$.fragment,e),s=!0)},o(e){K(n.$$.fragment,e),s=!1},d(l){l&&f(t),ee(n),e[10](null)}}}function Ge(e){let t,n,l,r,o,i,a,c,p,m;o=new je({});let h=e[2]&&Pe(e);return{c(){t=g("div"),n=g("div"),l=g("span"),l.textContent="A",r=x(),J(o.$$.fragment),a=x(),h&&h.c(),v(l,"class",""),v(n,"class",i="font-medium flex items-center cursor-pointer "+e[0]+"-"+e[3]+" px-1"),v(t,"class","flex relative")},m(s,i){d(s,t,i),u(t,n),u(n,l),u(n,r),Q(o,n,null),u(t,a),h&&h.m(t,null),c=!0,p||(m=[$(Ze,"click",e[7]),$(n,"click",e[6])],p=!0)},p(e,[l]){(!c||9&l&&i!==(i="font-medium flex items-center cursor-pointer "+e[0]+"-"+e[3]+" px-1"))&&v(n,"class",i),e[2]?h?(h.p(e,l),4&l&&F(h,1)):(h=Pe(e),h.c(),F(h,1),h.m(t,null)):h&&(X(),K(h,1,1,(()=>{h=null})),U())},i(e){c||(F(o.$$.fragment,e),F(h),c=!0)},o(e){K(o.$$.fragment,e),K(h),c=!1},d(e){e&&f(t),ee(o),h&&h.d(),p=!1,s(m)}}}function We(e,t,n){let l,s,{txt:r="text"}=t,{setClass:o}=t,{klass:i}=t,a=["gray","red","yellow","green","blue","indigo","purple","pink"],c=!1,u="blue-500";return e.$$set=e=>{"txt"in e&&n(0,r=e.txt),"setClass"in e&&n(8,o=e.setClass),"klass"in e&&n(9,i=e.klass)},e.$$.update=()=>{if(2&e.$$.dirty&&n(4,s=l?.getBoundingClientRect()?.bottom>window.innerHeight?"bottom-0 mb-8":"mt-8 top-0"),513&e.$$.dirty&&i){let e=i.split(" "),t=new RegExp(r+"\\-("+a.join("|")+")"),l=e.findIndex((e=>t.test(e)));n(3,u=~l?e[l].replace(r+"-",""):"")}},[r,l,c,u,s,function(e){o(r+"-"+e.detail),n(3,u=e.detail)},function(e){n(2,c=!c),e.stopPropagation(),e.preventDefault()},function(){n(2,c=!1)},o,i,function(e){T[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}class Xe extends ne{constructor(e){super(),te(this,e,We,Ge,o,{txt:0,setClass:8,klass:9})}}function Ue(t){let n,l,s;return{c(){n=m("svg"),l=m("path"),s=m("path"),v(l,"d","M9.95263 16.9123L8.59323 18.3608L2.03082 12.2016L8.18994 5.63922L9.64826 7.00791L4.85783 12.112L9.95212 16.8932L9.95263 16.9123Z"),v(l,"fill","currentColor"),v(s,"d","M14.0474 16.9123L15.4068 18.3608L21.9692 12.2016L15.8101 5.63922L14.3517 7.00791L19.1422 12.112L14.0479 16.8932L14.0474 16.9123Z"),v(s,"fill","currentColor"),v(n,"class","w-4 h-4"),v(n,"viewBox","0 0 24 24"),v(n,"fill","none"),v(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){d(e,n,t),u(n,l),u(n,s)},p:e,i:e,o:e,d(e){e&&f(n)}}}class Fe extends ne{constructor(e){super(),te(this,e,null,Ue,o,{})}}function Ke(e){let t,n,l,r,o,i,a,c,p,m,w,y;return{c(){t=g("div"),n=g("input"),l=x(),r=g("button"),r.textContent="Link",o=x(),i=g("button"),i.textContent="Unlink",a=x(),c=g("label"),p=g("input"),m=h("\n        _Blank"),v(n,"type","text"),v(n,"placeholder","Past your link, such as http://fouita.com"),v(n,"class","bg-gray-100 border p-1 w-64 rounded outline-none\n        shadow-inner"),v(r,"class","ml-2 hover:bg-gray-300 px-3 rounded outline-none"),v(i,"class","hover:bg-gray-300 px-3 rounded outline-none"),v(p,"type","checkbox"),v(p,"class","mr-2"),v(c,"class","flex items-center text-black text-xs"),v(t,"class","absolute p-3 shadow-xl flex rounded bg-white -ml-24 mt-1 z-920")},m(s,f){d(s,t,f),u(t,n),k(n,e[0]),u(t,l),u(t,r),u(t,o),u(t,i),u(t,a),u(t,c),u(c,p),p.checked=e[1],u(c,m),w||(y=[$(n,"click",Ye),$(n,"focus",Ye),$(n,"input",e[10]),$(r,"click",e[5]),$(i,"click",e[6]),$(p,"change",e[11]),$(c,"click",b(e[9])),$(t,"click",Ye)],w=!0)},p(e,t){1&t&&n.value!==e[0]&&k(n,e[0]),2&t&&(p.checked=e[1])},d(e){e&&f(t),w=!1,s(y)}}}function qe(t){let n,l,r,o,i,a=t[2]&&Ke(t);return{c(){n=g("div"),l=g("span"),l.innerHTML='<span class="border-b border-gray-400">Link</span>',r=x(),a&&a.c(),v(l,"class","px-2 py-1"),v(n,"class","relative")},m(e,s){d(e,n,s),u(n,l),u(n,r),a&&a.m(n,null),o||(i=[$(window,"click",t[4]),$(l,"click",t[3]),$(n,"mousedown",t[8])],o=!0)},p(e,[t]){e[2]?a?a.p(e,t):(a=Ke(e),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:e,o:e,d(e){e&&f(n),a&&a.d(),o=!1,s(i)}}}function Ye(e){return e.preventDefault(),e.stopPropagation(),!1}function Je(e,t,n){let{href:l}=t,{blank:s=!0}=t,r=!1,{setLink:o}=t;function i(){n(2,r=!1)}return e.$$set=e=>{"href"in e&&n(0,l=e.href),"blank"in e&&n(1,s=e.blank),"setLink"in e&&n(7,o=e.setLink)},[l,s,r,function(e){n(2,r=!r),Ye(e)},i,function(){o("underline text-blue-500 link",l,{blank:s}),i()},function(){o("underline text-blue-500 link",null),i()},o,function(t){L(e,t)},function(t){L(e,t)},function(){l=this.value,n(0,l)},function(){s=this.checked,n(1,s)}]}class Qe extends ne{constructor(e){super(),te(this,e,Je,qe,o,{href:0,blank:1,setLink:7})}}function et(t){let n,l,s,r,o;return{c(){n=m("svg"),l=m("path"),s=m("path"),r=m("path"),o=m("path"),v(l,"d","M4 5C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7H20C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5H4Z"),v(l,"fill","currentColor"),v(s,"d","M4 9C3.44772 9 3 9.44772 3 10C3 10.5523 3.44772 11 4 11H20C20.5523 11 21 10.5523 21 10C21 9.44772 20.5523 9 20 9H4Z"),v(s,"fill","currentColor"),v(r,"d","M3 14C3 13.4477 3.44772 13 4 13H20C20.5523 13 21 13.4477 21 14C21 14.5523 20.5523 15 20 15H4C3.44772 15 3 14.5523 3 14Z"),v(r,"fill","currentColor"),v(o,"d","M4 17C3.44772 17 3 17.4477 3 18C3 18.5523 3.44772 19 4 19H20C20.5523 19 21 18.5523 21 18C21 17.4477 20.5523 17 20 17H4Z"),v(o,"fill","currentColor"),v(n,"class","w-5 h-5"),v(n,"viewBox","0 0 24 24"),v(n,"fill","none"),v(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){d(e,n,t),u(n,l),u(n,s),u(n,r),u(n,o)},p:e,i:e,o:e,d(e){e&&f(n)}}}class tt extends ne{constructor(e){super(),te(this,e,null,et,o,{})}}function nt(t){let n,l;return{c(){n=m("svg"),l=m("path"),v(l,"d","M10.5858 13.4142L7.75735 10.5858L6.34314 12L10.5858 16.2427L17.6568 9.1716L16.2426 7.75739L10.5858 13.4142Z"),v(l,"fill","currentColor"),v(n,"class","w-4 h-4 text-gray-700"),v(n,"viewBox","0 0 24 24"),v(n,"fill","none"),v(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){d(e,n,t),u(n,l)},p:e,i:e,o:e,d(e){e&&f(n)}}}class lt extends ne{constructor(e){super(),te(this,e,null,nt,o,{})}}function st(e,t,n){const l=e.slice();return l[5]=t[n],l}function rt(e){let t,n;return t=new lt({}),{c(){J(t.$$.fragment)},m(e,l){Q(t,e,l),n=!0},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){K(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function ot(e){let t,n,l,s,r,o,i,a,c,p=e[5].label+"",m=e[0]==e[5].value&&rt();function b(...t){return e[3](e[5],...t)}return{c(){t=g("div"),m&&m.c(),n=x(),l=g("span"),s=h(p),o=x(),v(l,"class",r=(e[0]==e[5].value?"ml-1":"ml-5")+" pr-2"),v(t,"class","px-2 py-1 flex items-center hover:bg-gray-200 cursor-pointer")},m(e,r){d(e,t,r),m&&m.m(t,null),u(t,n),u(t,l),u(l,s),u(t,o),i=!0,a||(c=$(t,"click",b),a=!0)},p(o,a){(e=o)[0]==e[5].value?m?3&a&&F(m,1):(m=rt(),m.c(),F(m,1),m.m(t,n)):m&&(X(),K(m,1,1,(()=>{m=null})),U()),(!i||2&a)&&p!==(p=e[5].label+"")&&w(s,p),(!i||3&a&&r!==(r=(e[0]==e[5].value?"ml-1":"ml-5")+" pr-2"))&&v(l,"class",r)},i(e){i||(F(m),i=!0)},o(e){K(m),i=!1},d(e){e&&f(t),m&&m.d(),a=!1,c()}}}function it(e){let t,n,l=e[1],s=[];for(let t=0;t<l.length;t+=1)s[t]=ot(st(e,l,t));const r=e=>K(s[e],1,1,(()=>{s[e]=null}));return{c(){t=g("div");for(let e=0;e<s.length;e+=1)s[e].c();v(t,"class","shadow-xl border-r border-l rounded mt-1 bg-white")},m(e,l){d(e,t,l);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0},p(e,[n]){if(7&n){let o;for(l=e[1],o=0;o<l.length;o+=1){const r=st(e,l,o);s[o]?(s[o].p(r,n),F(s[o],1)):(s[o]=ot(r),s[o].c(),F(s[o],1),s[o].m(t,null))}for(X(),o=l.length;o<s.length;o+=1)r(o);U()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)F(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)K(s[e]);n=!1},d(e){e&&f(t),p(s,e)}}}function at(e,t,n){let l=H(),{list:s=[]}=t,{selected:r}=t;function o(e,t){n(0,r=t),l("select",r),e.stopPropagation(),e.preventDefault()}return e.$$set=e=>{"list"in e&&n(1,s=e.list),"selected"in e&&n(0,r=e.selected)},[r,s,o,(e,t)=>o(t,e.value)]}class ct extends ne{constructor(e){super(),te(this,e,at,it,o,{list:1,selected:0})}}const{window:ut}=q;function dt(e){let t,n,l,s;return n=new ct({props:{list:e[3],selected:e[2]}}),n.$on("select",e[10]),{c(){t=g("div"),J(n.$$.fragment),v(t,"class",l="absolute -ml-1 z-920 "+e[1]+" "+e[5])},m(l,r){d(l,t,r),Q(n,t,null),e[11](t),s=!0},p(e,r){const o={};8&r&&(o.list=e[3]),4&r&&(o.selected=e[2]),n.$set(o),(!s||34&r&&l!==(l="absolute -ml-1 z-920 "+e[1]+" "+e[5]))&&v(t,"class",l)},i(e){s||(F(n.$$.fragment,e),s=!0)},o(e){K(n.$$.fragment,e),s=!1},d(l){l&&f(t),ee(n),e[11](null)}}}function ft(e){let t,n,l,r,o,c;const p=e[9].default,m=function(e,t,n,l){if(e){const s=i(e,t,n,l);return e[0](s)}}(p,e,e[8],null),b=m||function(e){let t;return{c(){t=h("Click To show")},m(e,n){d(e,t,n)},d(e){e&&f(t)}}}();let w=e[0]&&dt(e);return{c(){t=g("div"),n=g("div"),b&&b.c(),l=x(),w&&w.c(),v(n,"class","cursor-pointer flex h-full"),v(t,"class","relative")},m(s,i){d(s,t,i),u(t,n),b&&b.m(n,null),u(t,l),w&&w.m(t,null),r=!0,o||(c=[$(ut,"click",e[7]),$(n,"click",e[6])],o=!0)},p(e,[n]){m&&m.p&&256&n&&a(m,p,e,e[8],n,null,null),e[0]?w?(w.p(e,n),1&n&&F(w,1)):(w=dt(e),w.c(),F(w,1),w.m(t,null)):w&&(X(),K(w,1,1,(()=>{w=null})),U())},i(e){r||(F(b,e),F(w),r=!0)},o(e){K(b,e),K(w),r=!1},d(e){e&&f(t),b&&b.d(e),w&&w.d(),o=!1,s(c)}}}function pt(e,t,n){let l,{class:s=""}=t,{open:r=!1}=t,{selected:o}=t,{list:i=[{label:"none",value:"none"},{label:"tight",value:"tight"},{label:"snug",value:"snug"},{label:"normal",value:"normal"},{label:"relaxed",value:"relaxed"},{label:"loose",value:"loose"}]}=t;let a,{$$slots:c={},$$scope:u}=t;return e.$$set=e=>{"class"in e&&n(1,s=e.class),"open"in e&&n(0,r=e.open),"selected"in e&&n(2,o=e.selected),"list"in e&&n(3,i=e.list),"$$scope"in e&&n(8,u=e.$$scope)},e.$$.update=()=>{16&e.$$.dirty&&n(5,a=l?.getBoundingClientRect()?.bottom>window.innerHeight?"bottom-0 mb-8":"")},[r,s,o,i,l,a,function(e){n(0,r=!r),e.preventDefault(),e.stopPropagation()},function(){n(0,r=!1)},u,c,function(t){L(e,t)},function(e){T[e?"unshift":"push"]((()=>{l=e,n(4,l)}))}]}class gt extends ne{constructor(e){super(),te(this,e,pt,ft,o,{class:1,open:0,selected:2,list:3})}}function mt(t){let n,l,s,r,o,i;return{c(){n=m("svg"),l=m("path"),s=m("path"),r=m("path"),o=m("path"),i=m("path"),v(l,"d","M5.09668 6.99707H7.17358L4.17358 3.99707L1.17358 6.99707H3.09668V17.0031H1.15881L4.15881 20.0031L7.15881 17.0031H5.09668V6.99707Z"),v(l,"fill","currentColor"),v(s,"d","M22.8412 7H8.84119V5H22.8412V7Z"),v(s,"fill","currentColor"),v(r,"d","M22.8412 11H8.84119V9H22.8412V11Z"),v(r,"fill","currentColor"),v(o,"d","M8.84119 15H22.8412V13H8.84119V15Z"),v(o,"fill","currentColor"),v(i,"d","M22.8412 19H8.84119V17H22.8412V19Z"),v(i,"fill","currentColor"),v(n,"class","w-5 h-5 text-gray-700"),v(n,"viewBox","0 0 24 24"),v(n,"fill","none"),v(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){d(e,n,t),u(n,l),u(n,s),u(n,r),u(n,o),u(n,i)},p:e,i:e,o:e,d(e){e&&f(n)}}}class ht extends ne{constructor(e){super(),te(this,e,null,mt,o,{})}}function xt(e){let t,n,l;return n=new ht({}),{c(){t=g("div"),J(n.$$.fragment),v(t,"class","pl-2 pr-3 py-1 h-full flex items-center")},m(e,s){d(e,t,s),Q(n,t,null),l=!0},i(e){l||(F(n.$$.fragment,e),l=!0)},o(e){K(n.$$.fragment,e),l=!1},d(e){e&&f(t),ee(n)}}}function $t(e){let t,n,l,s;function r(t){e[6].call(null,t)}let o={list:e[3],selected:e[1],class:"text-sm",$$slots:{default:[xt]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.open=e[0]),n=new gt({props:o}),T.push((()=>Y(n,"open",r))),n.$on("select",e[2]),{c(){t=g("div"),J(n.$$.fragment),v(t,"class","flex h-full")},m(e,l){d(e,t,l),Q(n,t,null),s=!0},p(e,[t]){const s={};2&t&&(s.selected=e[1]),256&t&&(s.$$scope={dirty:t,ctx:e}),!l&&1&t&&(l=!0,s.open=e[0],O((()=>l=!1))),n.$set(s)},i(e){s||(F(n.$$.fragment,e),s=!0)},o(e){K(n.$$.fragment,e),s=!1},d(e){e&&f(t),ee(n)}}}function bt(e,t,n){let{klass:l=""}=t,{setClass:s=""}=t,r=!1;let o,i;return e.$$set=e=>{"klass"in e&&n(4,l=e.klass),"setClass"in e&&n(5,s=e.setClass)},e.$$.update=()=>{16&e.$$.dirty&&n(7,o=l.split(" ").find((e=>e.startsWith("leading")))||""),128&e.$$.dirty&&n(1,i=o.replace("leading-",""))},[r,i,function(e){n(0,r=!1),n(1,i=e.detail),s("leading-"+e.detail)},[{label:"none",value:"none"},{label:"tight",value:"tight"},{label:"snug",value:"snug"},{label:"normal",value:"normal"},{label:"relaxed",value:"relaxed"},{label:"loose",value:"loose"}],l,s,function(e){r=e,n(0,r)}]}class vt extends ne{constructor(e){super(),te(this,e,bt,$t,o,{klass:4,setClass:5})}}function wt(e){let t,n,l,s,r;return s=new je({}),{c(){t=g("div"),n=h(e[2]),l=x(),J(s.$$.fragment),v(t,"class","pl-2 pr-3 py-1 h-full flex items-center whitespace-nowrap flex-shrink-0")},m(e,o){d(e,t,o),u(t,n),u(t,l),Q(s,t,null),r=!0},p(e,t){(!r||4&t)&&w(n,e[2])},i(e){r||(F(s.$$.fragment,e),r=!0)},o(e){K(s.$$.fragment,e),r=!1},d(e){e&&f(t),ee(s)}}}function kt(e){let t,n,l,s;function r(t){e[7].call(null,t)}let o={list:e[3],selected:e[1],class:"w-32 text-sm",$$slots:{default:[wt]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.open=e[0]),n=new gt({props:o}),T.push((()=>Y(n,"open",r))),n.$on("select",e[4]),{c(){t=g("div"),J(n.$$.fragment),v(t,"class","flex h-full")},m(e,l){d(e,t,l),Q(n,t,null),s=!0},p(e,[t]){const s={};2&t&&(s.selected=e[1]),2052&t&&(s.$$scope={dirty:t,ctx:e}),!l&&1&t&&(l=!0,s.open=e[0],O((()=>l=!1))),n.$set(s)},i(e){s||(F(n.$$.fragment,e),s=!0)},o(e){K(n.$$.fragment,e),s=!1},d(e){e&&f(t),ee(n)}}}let yt="code text-sm font-mono px-8 py-6 bg-gray-100",Ct="quote text-xl border-l-4 border-gray-800 px-4 font-serif";function _t(e,t,n){let{setClass:l}=t,{klass:s=""}=t,r=[{label:"Text Small",value:"md:text-sm text-sm"},{label:"Text",value:"md:text-base text-base"},{label:"Code",value:yt},{label:"Quote",value:Ct},{label:"Heading 1",value:"md:text-6xl text-4xl"},{label:"Heading 2",value:"md:text-5xl text-3xl"},{label:"Heading 3",value:"md:text-4xl text-2xl"},{label:"Heading 4",value:"md:text-3xl text-xl"},{label:"Heading 5",value:"md:text-2xl text-xl"},{label:"Heading 6",value:"md:text-xl text-lg"}];let o,i,a,c,u=!1;return e.$$set=e=>{"setClass"in e&&n(5,l=e.setClass),"klass"in e&&n(6,s=e.klass)},e.$$.update=()=>{64&e.$$.dirty&&n(8,o=(s.includes("code")?yt:s.includes("quote")&&Ct)||function(){for(let e of r)if(~s.indexOf(e.value))return e.value;return!1}()||""),256&e.$$.dirty&&n(1,i=o),2&e.$$.dirty&&n(9,a=r.find((e=>e.value==i))),512&e.$$.dirty&&n(2,c=a&&a.label||"Text")},[u,i,c,r,function(e){n(1,i=e.detail),n(0,u=!1),l(e.detail)},l,s,function(e){u=e,n(0,u)}]}class Nt extends ne{constructor(e){super(),te(this,e,_t,kt,o,{setClass:5,klass:6})}}function Mt(t){let n,l,s,r,o;return{c(){n=m("svg"),l=m("path"),s=m("path"),r=m("path"),o=m("path"),v(l,"d","M4 5C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7H20C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5H4Z"),v(l,"fill","currentColor"),v(s,"d","M4 13C3.44772 13 3 13.4477 3 14C3 14.5523 3.44772 15 4 15H20C20.5523 15 21 14.5523 21 14C21 13.4477 20.5523 13 20 13H4Z"),v(s,"fill","currentColor"),v(r,"d","M6 10C6 9.44772 6.44772 9 7 9H17C17.5523 9 18 9.44772 18 10C18 10.5523 17.5523 11 17 11H7C6.44772 11 6 10.5523 6 10Z"),v(r,"fill","currentColor"),v(o,"d","M7 17C6.44772 17 6 17.4477 6 18C6 18.5523 6.44772 19 7 19H17C17.5523 19 18 18.5523 18 18C18 17.4477 17.5523 17 17 17H7Z"),v(o,"fill","currentColor"),v(n,"class","w-5 h-5"),v(n,"viewBox","0 0 24 24"),v(n,"fill","none"),v(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){d(e,n,t),u(n,l),u(n,s),u(n,r),u(n,o)},p:e,i:e,o:e,d(e){e&&f(n)}}}class Ht extends ne{constructor(e){super(),te(this,e,null,Mt,o,{})}}function Lt(t){let n,l,s,r,o;return{c(){n=m("svg"),l=m("path"),s=m("path"),r=m("path"),o=m("path"),v(l,"d","M4 5C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7H20C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5H4Z"),v(l,"fill","currentColor"),v(s,"d","M4 9C3.44772 9 3 9.44772 3 10C3 10.5523 3.44772 11 4 11H12C12.5523 11 13 10.5523 13 10C13 9.44772 12.5523 9 12 9H4Z"),v(s,"fill","currentColor"),v(r,"d","M3 14C3 13.4477 3.44772 13 4 13H20C20.5523 13 21 13.4477 21 14C21 14.5523 20.5523 15 20 15H4C3.44772 15 3 14.5523 3 14Z"),v(r,"fill","currentColor"),v(o,"d","M4 17C3.44772 17 3 17.4477 3 18C3 18.5523 3.44772 19 4 19H12C12.5523 19 13 18.5523 13 18C13 17.4477 12.5523 17 12 17H4Z"),v(o,"fill","currentColor"),v(n,"class","w-5 h-5"),v(n,"viewBox","0 0 24 24"),v(n,"fill","none"),v(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){d(e,n,t),u(n,l),u(n,s),u(n,r),u(n,o)},p:e,i:e,o:e,d(e){e&&f(n)}}}class Et extends ne{constructor(e){super(),te(this,e,null,Lt,o,{})}}function Tt(t){let n,l,s,r,o;return{c(){n=m("svg"),l=m("path"),s=m("path"),r=m("path"),o=m("path"),v(l,"d","M20 5C20.5523 5 21 5.44772 21 6C21 6.55228 20.5523 7 20 7H4C3.44772 7 3 6.55228 3 6C3 5.44772 3.44772 5 4 5H20Z"),v(l,"fill","currentColor"),v(s,"d","M20 9C20.5523 9 21 9.44772 21 10C21 10.5523 20.5523 11 20 11H12C11.4477 11 11 10.5523 11 10C11 9.44772 11.4477 9 12 9H20Z"),v(s,"fill","currentColor"),v(r,"d","M21 14C21 13.4477 20.5523 13 20 13H4C3.44772 13 3 13.4477 3 14C3 14.5523 3.44772 15 4 15H20C20.5523 15 21 14.5523 21 14Z"),v(r,"fill","currentColor"),v(o,"d","M20 17C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19H12C11.4477 19 11 18.5523 11 18C11 17.4477 11.4477 17 12 17H20Z"),v(o,"fill","currentColor"),v(n,"class","w-5 h-5"),v(n,"viewBox","0 0 24 24"),v(n,"fill","none"),v(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){d(e,n,t),u(n,l),u(n,s),u(n,r),u(n,o)},p:e,i:e,o:e,d(e){e&&f(n)}}}class It extends ne{constructor(e){super(),te(this,e,null,Tt,o,{})}}function At(t){let n,l;return{c(){n=m("svg"),l=m("path"),v(l,"d","M5 6h10l-5 9l-5-9z"),v(l,"fill","currentColor"),v(n,"viewBox","0 0 20 20"),v(n,"xmlns","http://www.w3.org/2000/svg"),v(n,"class",t[0])},m(e,t){d(e,n,t),u(n,l)},p(e,[t]){1&t&&v(n,"class",e[0])},i:e,o:e,d(e){e&&f(n)}}}function Bt(e,t,n){let{class:l="w-3 h-3"}=t;return e.$$set=e=>{"class"in e&&n(0,l=e.class)},[l]}class Dt extends ne{constructor(e){super(),te(this,e,Bt,At,o,{class:0})}}const Vt="italic",Rt="underline",zt="line-through",Ot="font-mono px-2 border border-gray-200",St="underline text-blue-500 link",jt="text-center",Zt="text-left",Pt="text-right",Gt="text-justify",Wt=["0","px","0.5","1","2","3","4","5","6","7","8","9","10","11","12","14","16","20","24","28","32","36","40","44","48","52","56","60","64","72","80","96"];function Xt(e){let t,n;return t=new Et({}),{c(){J(t.$$.fragment)},m(e,l){Q(t,e,l),n=!0},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){K(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Ut(e){let t,n;return t=new It({}),{c(){J(t.$$.fragment)},m(e,l){Q(t,e,l),n=!0},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){K(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Ft(e){let t,n;return t=new Ht({}),{c(){J(t.$$.fragment)},m(e,l){Q(t,e,l),n=!0},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){K(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Kt(e){let t,n,l,r,o,i,a,c,p,m,h,b,w,k,y,C;return l=new Et({}),a=new Ht({}),h=new It({}),{c(){t=g("div"),n=g("div"),J(l.$$.fragment),o=x(),i=g("div"),J(a.$$.fragment),p=x(),m=g("div"),J(h.$$.fragment),v(n,"class",r="px-2 "+(e[0].left?"text-blue-600":"text-gray-700")+" cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center"),v(i,"class",c="px-2 "+(e[0].center?"text-blue-600":"text-gray-700")+" cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center"),v(m,"class",b="px-2 "+(e[0].right?"text-blue-600":"text-gray-700")+" cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center border-r"),v(t,"class",w="absolute shadow-xl "+e[3]+" bg-white")},m(s,r){d(s,t,r),u(t,n),Q(l,n,null),u(t,o),u(t,i),Q(a,i,null),u(t,p),u(t,m),Q(h,m,null),e[9](t),k=!0,y||(C=[$(n,"mousedown",e[6]),$(i,"mousedown",e[7]),$(m,"mousedown",e[8])],y=!0)},p(e,l){(!k||1&l&&r!==(r="px-2 "+(e[0].left?"text-blue-600":"text-gray-700")+" cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center"))&&v(n,"class",r),(!k||1&l&&c!==(c="px-2 "+(e[0].center?"text-blue-600":"text-gray-700")+" cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center"))&&v(i,"class",c),(!k||1&l&&b!==(b="px-2 "+(e[0].right?"text-blue-600":"text-gray-700")+" cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center border-r"))&&v(m,"class",b),(!k||8&l&&w!==(w="absolute shadow-xl "+e[3]+" bg-white"))&&v(t,"class",w)},i(e){k||(F(l.$$.fragment,e),F(a.$$.fragment,e),F(h.$$.fragment,e),k=!0)},o(e){K(l.$$.fragment,e),K(a.$$.fragment,e),K(h.$$.fragment,e),k=!1},d(n){n&&f(t),ee(l),ee(a),ee(h),e[9](null),y=!1,s(C)}}}function qt(e){let t,n,l,s,r,o,i,a,c,p;const m=[Ft,Ut,Xt],h=[];function b(e,t){return e[0].center?0:e[0].right?1:2}l=b(e),s=h[l]=m[l](e),o=new Dt({});let w=e[2]&&Kt(e);return{c(){t=g("div"),n=g("div"),s.c(),r=x(),J(o.$$.fragment),i=x(),w&&w.c(),v(n,"class","px-2 text-gray-700 hover:bg-gray-200 cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center"),v(t,"class","relative h-full")},m(s,f){d(s,t,f),u(t,n),h[l].m(n,null),u(n,r),Q(o,n,null),u(t,i),w&&w.m(t,null),a=!0,c||(p=$(n,"mousedown",e[4]),c=!0)},p(e,[o]){let i=l;l=b(e),l!==i&&(X(),K(h[i],1,1,(()=>{h[i]=null})),U(),s=h[l],s||(s=h[l]=m[l](e),s.c()),F(s,1),s.m(n,r)),e[2]?w?(w.p(e,o),4&o&&F(w,1)):(w=Kt(e),w.c(),F(w,1),w.m(t,null)):w&&(X(),K(w,1,1,(()=>{w=null})),U())},i(e){a||(F(s),F(o.$$.fragment,e),F(w),a=!0)},o(e){K(s),K(o.$$.fragment,e),K(w),a=!1},d(e){e&&f(t),h[l].d(),ee(o),w&&w.d(),c=!1,p()}}}function Yt(e,t,n){const l=H();let s,{e_classes:r}=t,o=!1;function i(e){l("select",e)}let a;return e.$$set=e=>{"e_classes"in e&&n(0,r=e.e_classes)},e.$$.update=()=>{2&e.$$.dirty&&n(3,a=s?.getBoundingClientRect()?.bottom>window.innerHeight?"bottom-0 mb-8":"")},[r,s,o,a,function(){n(2,o=!o)},i,()=>i(Zt),()=>i(jt),()=>i(Pt),function(e){T[e?"unshift":"push"]((()=>{s=e,n(1,s)}))}]}class Jt extends ne{constructor(e){super(),te(this,e,Yt,qt,o,{e_classes:0})}}function Qt(t){let n,l,s;return{c(){n=m("svg"),l=m("g"),s=m("path"),v(s,"fill-rule","evenodd"),v(s,"clip-rule","evenodd"),v(s,"d","M2.857 2h9.286c.473 0 .857.384.857.857v9.286a.857.857 0 0 1-.857.857H2.857A.857.857 0 0 1 2 12.143V2.857C2 2.384 2.384 2 2.857 2zM1 2.857C1 1.831 1.831 1 2.857 1h9.286C13.168 1 14 1.831 14 2.857v9.286A1.857 1.857 0 0 1 12.143 14H2.857A1.857 1.857 0 0 1 1 12.143V2.857zM7.5 5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm-3 6a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zM5 7.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM4.5 5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm6.5 5.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM10.5 8a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm.5-3.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM7.5 11a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1z"),v(s,"fill","currentColor"),v(l,"fill","none"),v(n,"viewBox","0 0 15 15"),v(n,"xmlns","http://www.w3.org/2000/svg"),v(n,"class",t[0])},m(e,t){d(e,n,t),u(n,l),u(l,s)},p(e,[t]){1&t&&v(n,"class",e[0])},i:e,o:e,d(e){e&&f(n)}}}function en(e,t,n){let{class:l="w-5 h-5"}=t;return e.$$set=e=>{"class"in e&&n(0,l=e.class)},[l]}class tn extends ne{constructor(e){super(),te(this,e,en,Qt,o,{class:0})}}function nn(t){let n,l,s;return{c(){n=m("svg"),l=m("g"),s=m("path"),v(s,"fill-rule","evenodd"),v(s,"clip-rule","evenodd"),v(s,"d","M1.5 2a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm3 0a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zM8 1.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zm2.5.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm3.5-.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM1.5 14a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm.5-3.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM1.5 8a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zM2 4.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM13.5 11a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm.5-3.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM13.5 5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zM5 13.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zm2.5.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm3.5-.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zm2.5.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zM4 5a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5zm1 0h5v5H5V5z"),v(s,"fill","currentColor"),v(l,"fill","none"),v(n,"viewBox","0 0 15 15"),v(n,"xmlns","http://www.w3.org/2000/svg"),v(n,"class",t[0])},m(e,t){d(e,n,t),u(n,l),u(l,s)},p(e,[t]){1&t&&v(n,"class",e[0])},i:e,o:e,d(e){e&&f(n)}}}function ln(e,t,n){let{class:l="w-5 h-5"}=t;return e.$$set=e=>{"class"in e&&n(0,l=e.class)},[l]}class sn extends ne{constructor(e){super(),te(this,e,ln,nn,o,{class:0})}}function rn(e,t,n){const l=e.slice();return l[19]=t[n],l}function on(e,t,n){const l=e.slice();return l[19]=t[n],l}function an(e,t,n){const l=e.slice();return l[19]=t[n],l}function cn(e,t,n){const l=e.slice();return l[19]=t[n],l}function un(e){let t,n;return t=new tn({}),{c(){J(t.$$.fragment)},m(e,l){Q(t,e,l),n=!0},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){K(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function dn(e){let t,n;return t=new sn({}),{c(){J(t.$$.fragment)},m(e,l){Q(t,e,l),n=!0},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){K(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function fn(e){let t,n,l,r,o,i,a,c,m,x,b,w,k=Wt,C=[];for(let t=0;t<k.length;t+=1)C[t]=pn(cn(e,k,t));let _=Wt,N=[];for(let t=0;t<_.length;t+=1)N[t]=gn(an(e,_,t));let M=Wt,H=[];for(let t=0;t<M.length;t+=1)H[t]=mn(on(e,M,t));let L=Wt,E=[];for(let t=0;t<L.length;t+=1)E[t]=hn(rn(e,L,t));return{c(){t=g("div"),n=h("Top \r\n                "),l=g("select");for(let e=0;e<C.length;e+=1)C[e].c();r=h("\r\n                Right \r\n                "),o=g("select");for(let e=0;e<N.length;e+=1)N[e].c();i=h("\r\n                Bottom \r\n                "),a=g("select");for(let e=0;e<H.length;e+=1)H[e].c();c=h("\r\n                Left \r\n                "),m=g("select");for(let e=0;e<E.length;e+=1)E[e].c();v(l,"class","focus:outline-none border"),void 0===e[5]&&z((()=>e[12].call(l))),v(o,"class","focus:outline-none border"),void 0===e[6]&&z((()=>e[13].call(o))),v(a,"class","focus:outline-none border"),void 0===e[7]&&z((()=>e[14].call(a))),v(m,"class","focus:outline-none border"),void 0===e[8]&&z((()=>e[15].call(m))),v(t,"class",x="absolute shadow-xl bg-white grid grid-cols-2 w-24 p-2 gap-1 text-xs font-semibold "+e[4])},m(s,f){d(s,t,f),u(t,n),u(t,l);for(let e=0;e<C.length;e+=1)C[e].m(l,null);y(l,e[5]),u(t,r),u(t,o);for(let e=0;e<N.length;e+=1)N[e].m(o,null);y(o,e[6]),u(t,i),u(t,a);for(let e=0;e<H.length;e+=1)H[e].m(a,null);y(a,e[7]),u(t,c),u(t,m);for(let e=0;e<E.length;e+=1)E[e].m(m,null);y(m,e[8]),e[16](t),b||(w=[$(l,"change",e[12]),$(l,"change",e[10]),$(l,"blur",e[10]),$(o,"change",e[13]),$(o,"change",e[10]),$(o,"blur",e[10]),$(a,"change",e[14]),$(a,"change",e[10]),$(a,"blur",e[10]),$(m,"change",e[15]),$(m,"change",e[10]),$(m,"blur",e[10])],b=!0)},p(e,n){if(1&n){let t;for(k=Wt,t=0;t<k.length;t+=1){const s=cn(e,k,t);C[t]?C[t].p(s,n):(C[t]=pn(s),C[t].c(),C[t].m(l,null))}for(;t<C.length;t+=1)C[t].d(1);C.length=k.length}if(33&n&&y(l,e[5]),1&n){let t;for(_=Wt,t=0;t<_.length;t+=1){const l=an(e,_,t);N[t]?N[t].p(l,n):(N[t]=gn(l),N[t].c(),N[t].m(o,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=_.length}if(65&n&&y(o,e[6]),1&n){let t;for(M=Wt,t=0;t<M.length;t+=1){const l=on(e,M,t);H[t]?H[t].p(l,n):(H[t]=mn(l),H[t].c(),H[t].m(a,null))}for(;t<H.length;t+=1)H[t].d(1);H.length=M.length}if(129&n&&y(a,e[7]),1&n){let t;for(L=Wt,t=0;t<L.length;t+=1){const l=rn(e,L,t);E[t]?E[t].p(l,n):(E[t]=hn(l),E[t].c(),E[t].m(m,null))}for(;t<E.length;t+=1)E[t].d(1);E.length=L.length}257&n&&y(m,e[8]),16&n&&x!==(x="absolute shadow-xl bg-white grid grid-cols-2 w-24 p-2 gap-1 text-xs font-semibold "+e[4])&&v(t,"class",x)},d(n){n&&f(t),p(C,n),p(N,n),p(H,n),p(E,n),e[16](null),b=!1,s(w)}}}function pn(e){let t,n,l,s=e[19]+"";return{c(){t=g("option"),n=h(s),t.__value=l=e[0]+"t-"+e[19],t.value=t.__value},m(e,l){d(e,t,l),u(t,n)},p(e,n){1&n&&l!==(l=e[0]+"t-"+e[19])&&(t.__value=l,t.value=t.__value)},d(e){e&&f(t)}}}function gn(e){let t,n,l,s=e[19]+"";return{c(){t=g("option"),n=h(s),t.__value=l=e[0]+"r-"+e[19],t.value=t.__value},m(e,l){d(e,t,l),u(t,n)},p(e,n){1&n&&l!==(l=e[0]+"r-"+e[19])&&(t.__value=l,t.value=t.__value)},d(e){e&&f(t)}}}function mn(e){let t,n,l,s=e[19]+"";return{c(){t=g("option"),n=h(s),t.__value=l=e[0]+"b-"+e[19],t.value=t.__value},m(e,l){d(e,t,l),u(t,n)},p(e,n){1&n&&l!==(l=e[0]+"b-"+e[19])&&(t.__value=l,t.value=t.__value)},d(e){e&&f(t)}}}function hn(e){let t,n,l,s=e[19]+"";return{c(){t=g("option"),n=h(s),t.__value=l=e[0]+"l-"+e[19],t.value=t.__value},m(e,l){d(e,t,l),u(t,n)},p(e,n){1&n&&l!==(l=e[0]+"l-"+e[19])&&(t.__value=l,t.value=t.__value)},d(e){e&&f(t)}}}function xn(e){let t,n,l,s,r,o,i,a,c,p;const m=[dn,un],h=[];function b(e,t){return"m"==e[0]?0:1}l=b(e),s=h[l]=m[l](e),o=new Dt({});let w=e[3]&&fn(e);return{c(){t=g("div"),n=g("div"),s.c(),r=x(),J(o.$$.fragment),i=x(),w&&w.c(),v(n,"class","px-2 text-gray-700 hover:bg-gray-200 cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center"),v(t,"class","relative h-full"),v(t,"title",e[1])},m(s,f){d(s,t,f),u(t,n),h[l].m(n,null),u(n,r),Q(o,n,null),u(t,i),w&&w.m(t,null),a=!0,c||(p=$(n,"mousedown",e[9]),c=!0)},p(e,[o]){let i=l;l=b(e),l!==i&&(X(),K(h[i],1,1,(()=>{h[i]=null})),U(),s=h[l],s||(s=h[l]=m[l](e),s.c()),F(s,1),s.m(n,r)),e[3]?w?w.p(e,o):(w=fn(e),w.c(),w.m(t,null)):w&&(w.d(1),w=null),(!a||2&o)&&v(t,"title",e[1])},i(e){a||(F(s),F(o.$$.fragment,e),a=!0)},o(e){K(s),K(o.$$.fragment,e),a=!1},d(e){e&&f(t),h[l].d(),ee(o),w&&w.d(),c=!1,p()}}}function $n(e,t,n){const l=H();let s,r,o,i,a,c,u,{mp:d="p"}=t,{g_classes:f=""}=t,{title:p="Padding"}=t,g=!1;return e.$$set=e=>{"mp"in e&&n(0,d=e.mp),"g_classes"in e&&n(11,f=e.g_classes),"title"in e&&n(1,p=e.title)},e.$$.update=()=>{4&e.$$.dirty&&n(4,r=s?.getBoundingClientRect()?.bottom>window.innerHeight?"bottom-0 mb-8":""),133121&e.$$.dirty&&n(5,i=f.split(" ").find((e=>e.startsWith(`${d}t`)))||`${d}t-${o}`),133121&e.$$.dirty&&n(6,a=f.split(" ").find((e=>e.startsWith(`${d}r`)))||`${d}r-${o}`),133121&e.$$.dirty&&n(7,c=f.split(" ").find((e=>e.startsWith(`${d}b`)))||`${d}b-${o}`),133121&e.$$.dirty&&n(8,u=f.split(" ").find((e=>e.startsWith(`${d}l`)))||`${d}l-${o}`)},n(17,o=0),[d,p,s,g,r,i,a,c,u,function(){n(3,g=!g)},function(e){l("select",e.currentTarget.value)},f,function(){i=C(this),n(5,i),n(11,f),n(0,d),n(17,o),n(0,d)},function(){a=C(this),n(6,a),n(11,f),n(0,d),n(17,o),n(0,d)},function(){c=C(this),n(7,c),n(11,f),n(0,d),n(17,o),n(0,d)},function(){u=C(this),n(8,u),n(11,f),n(0,d),n(17,o),n(0,d)},function(e){T[e?"unshift":"push"]((()=>{s=e,n(2,s)}))}]}class bn extends ne{constructor(e){super(),te(this,e,$n,xn,o,{mp:0,g_classes:11,title:1})}}function vn(e){let t,n,l,r,o,i,a,p,m,w,k,y,C,_,N,M,H,L,E,T,I,A,B,D,V,R,z,O,S,j,Z,P,G,W,X,U,q,Y,te,ne,le,se,re,oe,ie,ae,ce,ue,de,fe,pe,ge,me;return r=new Nt({props:{setClass:e[3],klass:e[1]}}),B=new Fe({}),z=new Qe({props:{setLink:e[2],href:e[4],blank:e[5]}}),z.$on("close",e[8]),Z=new Xe({props:{setClass:e[2],klass:e[0]}}),W=new Xe({props:{txt:"bg",setClass:e[2],klass:e[0]}}),q=new tt({}),ne=new Jt({props:{e_classes:e[6]}}),ne.$on("select",e[20]),re=new bn({props:{mp:"p",title:"Padding",g_classes:e[1]}}),re.$on("select",e[21]),ae=new bn({props:{mp:"m",title:"Margin",g_classes:e[1]}}),ae.$on("select",e[22]),de=new vt({props:{setClass:e[3],klass:e[1]}}),{c(){t=g("div"),n=g("div"),l=g("div"),J(r.$$.fragment),o=x(),i=g("div"),a=h("B"),m=x(),w=g("div"),k=h("i"),C=x(),_=g("div"),N=h("U"),H=x(),L=g("div"),E=h("S"),I=x(),A=g("div"),J(B.$$.fragment),V=x(),R=g("div"),J(z.$$.fragment),S=x(),j=g("div"),J(Z.$$.fragment),P=x(),G=g("div"),J(W.$$.fragment),X=x(),U=g("div"),J(q.$$.fragment),te=x(),J(ne.$$.fragment),le=x(),se=g("div"),J(re.$$.fragment),oe=x(),ie=g("div"),J(ae.$$.fragment),ce=x(),ue=g("div"),J(de.$$.fragment),v(l,"class","border-r"),v(i,"class",p="px-2 cursor-pointer select-none "+(e[6].bold?"text-blue-600":"")+" font-medium hover:bg-gray-200 py-1"),v(w,"class",y="px-3 cursor-pointer select-none "+(e[6].italic?"text-blue-600":"")+" italic hover:bg-gray-200 py-1"),v(_,"class",M="px-2 cursor-pointer select-none "+(e[6].underline?"text-blue-600":"")+" underline hover:bg-gray-200 py-1"),v(L,"class",T="px-2 cursor-pointer select-none "+(e[6].linethrough?"text-blue-600":"")+" line-through hover:bg-gray-200 py-1"),v(A,"class",D="px-2 cursor-pointer select-none "+(e[6].code?"text-blue-600":"")+" line-through hover:bg-gray-200 py-2"),v(R,"class",O=(e[6].link?"text-blue-600":"")+" cursor-pointer select-none hover:bg-gray-200 text-sm border-r"),v(j,"class","pl-1 cursor-pointer select-none hover:bg-gray-200 py-1 "),v(G,"class","px-1 cursor-pointer select-none hover:bg-gray-200 border-r h-full flex items-center"),v(U,"class",Y="px-2 "+(e[6].justify?"text-blue-600":"text-gray-700")+" cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center"),v(se,"class","border-l h-full"),v(ie,"class","h-full"),v(ue,"class","cursor-pointer select-none hover:bg-gray-200 h-full flex items-center border-l"),v(n,"class","rounded flex items-center shadow-lg border border-gray-200  text-gray-700"),v(t,"class","flex fixed font-normal -mt-6 shadow bg-white z-950 text-base rounded")},m(s,f){d(s,t,f),u(t,n),u(n,l),Q(r,l,null),u(n,o),u(n,i),u(i,a),u(n,m),u(n,w),u(w,k),u(n,C),u(n,_),u(_,N),u(n,H),u(n,L),u(L,E),u(n,I),u(n,A),Q(B,A,null),u(n,V),u(n,R),Q(z,R,null),u(n,S),u(n,j),Q(Z,j,null),u(n,P),u(n,G),Q(W,G,null),u(n,X),u(n,U),Q(q,U,null),u(n,te),Q(ne,n,null),u(n,le),u(n,se),Q(re,se,null),u(n,oe),u(n,ie),Q(ae,ie,null),u(n,ce),u(n,ue),Q(de,ue,null),pe=!0,ge||(me=[$(i,"mousedown",e[10]),$(w,"mousedown",e[15]),$(_,"mousedown",e[16]),$(L,"mousedown",e[17]),$(A,"mousedown",e[18]),$(U,"mousedown",e[19]),c(fe=e[7].call(null,t)),$(t,"mousedown",b(e[14]))],ge=!0)},p(e,[t]){const n={};8&t&&(n.setClass=e[3]),2&t&&(n.klass=e[1]),r.$set(n),(!pe||64&t&&p!==(p="px-2 cursor-pointer select-none "+(e[6].bold?"text-blue-600":"")+" font-medium hover:bg-gray-200 py-1"))&&v(i,"class",p),(!pe||64&t&&y!==(y="px-3 cursor-pointer select-none "+(e[6].italic?"text-blue-600":"")+" italic hover:bg-gray-200 py-1"))&&v(w,"class",y),(!pe||64&t&&M!==(M="px-2 cursor-pointer select-none "+(e[6].underline?"text-blue-600":"")+" underline hover:bg-gray-200 py-1"))&&v(_,"class",M),(!pe||64&t&&T!==(T="px-2 cursor-pointer select-none "+(e[6].linethrough?"text-blue-600":"")+" line-through hover:bg-gray-200 py-1"))&&v(L,"class",T),(!pe||64&t&&D!==(D="px-2 cursor-pointer select-none "+(e[6].code?"text-blue-600":"")+" line-through hover:bg-gray-200 py-2"))&&v(A,"class",D);const l={};4&t&&(l.setLink=e[2]),16&t&&(l.href=e[4]),32&t&&(l.blank=e[5]),z.$set(l),(!pe||64&t&&O!==(O=(e[6].link?"text-blue-600":"")+" cursor-pointer select-none hover:bg-gray-200 text-sm border-r"))&&v(R,"class",O);const s={};4&t&&(s.setClass=e[2]),1&t&&(s.klass=e[0]),Z.$set(s);const o={};4&t&&(o.setClass=e[2]),1&t&&(o.klass=e[0]),W.$set(o),(!pe||64&t&&Y!==(Y="px-2 "+(e[6].justify?"text-blue-600":"text-gray-700")+" cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center"))&&v(U,"class",Y);const a={};64&t&&(a.e_classes=e[6]),ne.$set(a);const c={};2&t&&(c.g_classes=e[1]),re.$set(c);const u={};2&t&&(u.g_classes=e[1]),ae.$set(u);const d={};8&t&&(d.setClass=e[3]),2&t&&(d.klass=e[1]),de.$set(d)},i(e){pe||(F(r.$$.fragment,e),F(B.$$.fragment,e),F(z.$$.fragment,e),F(Z.$$.fragment,e),F(W.$$.fragment,e),F(q.$$.fragment,e),F(ne.$$.fragment,e),F(re.$$.fragment,e),F(ae.$$.fragment,e),F(de.$$.fragment,e),pe=!0)},o(e){K(r.$$.fragment,e),K(B.$$.fragment,e),K(z.$$.fragment,e),K(Z.$$.fragment,e),K(W.$$.fragment,e),K(q.$$.fragment,e),K(ne.$$.fragment,e),K(re.$$.fragment,e),K(ae.$$.fragment,e),K(de.$$.fragment,e),pe=!1},d(e){e&&f(t),ee(r),ee(B),ee(z),ee(Z),ee(W),ee(q),ee(ne),ee(re),ee(ae),ee(de),ge=!1,s(me)}}}const wn=/font\-(thin|normal|semibold|bold|black)/,kn=/^text\-(left|right|center)/,yn=/^p[lrtb]\-/,Cn=/^m[lrtb]\-/;function _n(e,t,n){let l=n.split(" "),s=l.findIndex((e=>t.test(e))),r=~s?l[s]:"";return r&&(n=n.replace(r,"").trim()),n=n.split(" ").concat([e]).join(" ")}function Nn(e,t,n){let{setClass:l}=t,{setGClass:s}=t,{classes:r}=t,{g_classes:o}=t,{href:i}=t,{blank:a}=t,{base_node:c}=t,u=H(),{mouseX:d}=t;function f(e){return r.includes(e)}function p(e){return o.includes(e)}let g={};function m(){var e;n(6,g={bold:(e=wn,e.test(r)),italic:f(Vt),underline:f(Rt),linethrough:f(zt),code:f(Ot),link:f(St),justify:p(Gt),center:p(jt),left:p(Zt),right:p(Pt)})}function h(e){if(l(e),r.includes(e)){let t=r.split(" ");t.splice(t.indexOf(e),1),n(0,r=t.join(" "))}else n(0,r=r.split(" ").concat([e]).join(" "));m()}function x(e){if(s(e),kn.test(e))n(1,o=_n(e,kn,o));else if(yn.test(e)){let t=new RegExp(`^p${e[1]}`);n(1,o=_n(e,t,o))}else if(Cn.test(e)){let t=new RegExp(`^m${e[1]}`);n(1,o=_n(e,t,o))}else if(o.includes(e)){let t=o.split(" ");t.splice(t.indexOf(e),1),n(1,o=t.join(" "))}else n(1,o=o.split(" ").concat([e]).join(" "));m()}m();return e.$$set=e=>{"setClass"in e&&n(2,l=e.setClass),"setGClass"in e&&n(3,s=e.setGClass),"classes"in e&&n(0,r=e.classes),"g_classes"in e&&n(1,o=e.g_classes),"href"in e&&n(4,i=e.href),"blank"in e&&n(5,a=e.blank),"base_node"in e&&n(13,c=e.base_node),"mouseX"in e&&n(12,d=e.mouseX)},[r,o,l,s,i,a,g,function(e){if(!c)return;let t="DIV"==c.parentNode.tagName?c:c.parentNode,l=t.parentNode.getBoundingClientRect(),s=l.top-10;if(t.previousElementSibling){let e=[...t.parentNode.childNodes],n=e.slice(0,e.indexOf(t)+1).reverse().find((e=>"BR"==e.tagName));n&&(l=n.getBoundingClientRect(),s=l.top?l.top:s)}let r={top:0,left:0},o=s-r.top;s<30&&(o=30),e.style.top=`${o}px`,n(12,d=d||10);let i=d-e.offsetWidth/2;i=i>0?i:10,i=d+e.offsetWidth/2<window.innerWidth?i:window.innerWidth-e.offsetWidth,e.style.left=i-r.left+"px"},function(){u("close")},h,function(){const e=["thin","normal","semibold","bold","black"];let t=!1;for(let s=0;s<e.length;s++)if(r.includes(e[s])){t=!0,s+1<e.length?(n(0,r=r.replace("font-"+e[s],"font-"+e[s+1]).trim()),l("font-"+e[s+1])):(n(0,r=r.replace("font-"+e[s],"font-"+e[0]).trim()),l("font-"+e[0]));break}t||(n(0,r=r.split(" ").concat(["font-bold"]).join(" ").trim()),l("font-bold")),m()},x,d,c,function(t){L(e,t)},()=>h(Vt),()=>h(Rt),()=>h(zt),()=>h(Ot),()=>x(Gt),e=>x(e.detail),e=>x(e.detail),e=>x(e.detail)]}class Mn extends ne{constructor(e){super(),te(this,e,Nn,vn,o,{setClass:2,setGClass:3,classes:0,g_classes:1,href:4,blank:5,base_node:13,mouseX:12})}}function Hn(e){let t,n,l;return{c(){t=g("input"),v(t,"type","text"),v(t,"placeholder","Image src"),v(t,"class","bg-gray-100 text-sm font-mono mb-2 border p-1 w-64 rounded-sm outline-none shadow-inner")},m(s,r){d(s,t,r),k(t,e[1]),n||(l=$(t,"input",e[13]),n=!0)},p(e,n){2&n&&t.value!==e[1]&&k(t,e[1])},d(e){e&&f(t),n=!1,l()}}}function Ln(e){let t,n,l;return{c(){t=g("input"),v(t,"type","text"),v(t,"placeholder","Image alt"),v(t,"class","bg-gray-100 text-sm font-mono mb-2 border p-1 w-64 rounded-sm outline-none shadow-inner")},m(s,r){d(s,t,r),k(t,e[0]),n||(l=$(t,"input",e[14]),n=!0)},p(e,n){1&n&&t.value!==e[0]&&k(t,e[0])},d(e){e&&f(t),n=!1,l()}}}function En(e){let t,n,l,r,o,i,a,c,p,m,b,w,k,y,C,_,N,M;return{c(){t=g("div"),n=g("label"),l=g("input"),r=h("\n                Autoplay"),o=x(),i=g("label"),a=g("input"),c=h("\n                Muted"),p=x(),m=g("label"),b=g("input"),w=h("\n                Loop"),k=x(),y=g("label"),C=g("input"),_=h("\n                Controls"),v(l,"class","mr-2"),v(l,"type","checkbox"),v(n,"class","flex items-center"),v(a,"class","mr-2"),v(a,"type","checkbox"),v(i,"class","flex items-center"),v(b,"class","mr-2"),v(b,"type","checkbox"),v(m,"class","flex items-center"),v(C,"class","mr-2"),v(C,"type","checkbox"),v(y,"class","flex items-center"),v(t,"class","text-xs my-2")},m(s,f){d(s,t,f),u(t,n),u(n,l),l.checked=e[2].autoplay,u(n,r),u(t,o),u(t,i),u(i,a),a.checked=e[2].muted,u(i,c),u(t,p),u(t,m),u(m,b),b.checked=e[2].loop,u(m,w),u(t,k),u(t,y),u(y,C),C.checked=e[2].controls,u(y,_),N||(M=[$(l,"change",e[16]),$(a,"change",e[17]),$(b,"change",e[18]),$(C,"change",e[19])],N=!0)},p(e,t){4&t&&(l.checked=e[2].autoplay),4&t&&(a.checked=e[2].muted),4&t&&(b.checked=e[2].loop),4&t&&(C.checked=e[2].controls)},d(e){e&&f(t),N=!1,s(M)}}}function Tn(t){let n,l,o,i,a,p,m,h,b,w,y,C,_,N,M,H=t[1]&&Hn(t),L="IMG"==t[5]&&Ln(t),E="VIDEO"==t[5]&&En(t);return{c(){n=g("div"),H&&H.c(),l=x(),L&&L.c(),o=x(),i=g("input"),a=x(),E&&E.c(),p=x(),m=g("div"),h=g("button"),h.textContent="Cancel",b=x(),w=g("button"),w.textContent="Delete",y=x(),C=g("button"),C.textContent="Update",v(i,"type","text"),v(i,"placeholder","Class"),v(i,"class","bg-gray-100 text-sm font-mono border p-1 w-64 rounded-sm outline-none shadow-inner"),v(h,"class","hover:bg-gray-300 px-3 rounded-sm outline-none text-xs py-1"),v(w,"class","hover:bg-red-700 px-3 rounded-sm outline-none mx-2 bg-red-600 text-red-100 text-xs py-1"),v(C,"class","ml-2 hover:bg-blue-700 bg-blue-600 text-blue-100 px-3 rounded-sm outline-none text-xs py-1"),v(m,"class","flex items-center flex-row-reverse mt-2"),v(n,"class","absolute -mt-6 p-3 shadow-xl flex flex-col rounded text-black bg-white z-940")},m(e,s){d(e,n,s),H&&H.m(n,null),u(n,l),L&&L.m(n,null),u(n,o),u(n,i),k(i,t[3]),u(n,a),E&&E.m(n,null),u(n,p),u(n,m),u(m,h),u(m,b),u(m,w),u(m,y),u(m,C),N||(M=[$(i,"input",t[15]),$(h,"click",t[7]),$(w,"click",(function(){r(t[4])&&t[4].apply(this,arguments)})),$(C,"click",t[6]),c(_=t[8].call(null,n))],N=!0)},p(e,[s]){(t=e)[1]?H?H.p(t,s):(H=Hn(t),H.c(),H.m(n,l)):H&&(H.d(1),H=null),"IMG"==t[5]?L?L.p(t,s):(L=Ln(t),L.c(),L.m(n,o)):L&&(L.d(1),L=null),8&s&&i.value!==t[3]&&k(i,t[3]),"VIDEO"==t[5]?E?E.p(t,s):(E=En(t),E.c(),E.m(n,p)):E&&(E.d(1),E=null)},i:e,o:e,d(e){e&&f(n),H&&H.d(),L&&L.d(),E&&E.d(),N=!1,s(M)}}}function In(e,t,n){let{alt:l}=t,{src:s}=t,{opts:r}=t,{klass:o=""}=t,{setMedia:i}=t,{delMedia:a}=t,{cancel:c}=t,{media_type:u}=t;let{mouseX:d}=t,{base_node:f}=t;return e.$$set=e=>{"alt"in e&&n(0,l=e.alt),"src"in e&&n(1,s=e.src),"opts"in e&&n(2,r=e.opts),"klass"in e&&n(3,o=e.klass),"setMedia"in e&&n(10,i=e.setMedia),"delMedia"in e&&n(4,a=e.delMedia),"cancel"in e&&n(11,c=e.cancel),"media_type"in e&&n(5,u=e.media_type),"mouseX"in e&&n(9,d=e.mouseX),"base_node"in e&&n(12,f=e.base_node)},[l,s,r,o,a,u,async function(){let e=await le.testImgUrl(s.trim()),t=le.testVideoUrl(s.trim()),n=le.parseYouTube(s.trim())||le.parseVimeo(s.trim());(e||t||n)&&i({src:n||s,klass:o,alt:l,opts:r,media_type:e?"IMG":t?"VIDEO":n?"IFRAME":"AUDIO"})},function(){c()},function(e){if(!f)return;let t="DIV"==f.parentNode.tagName?f:f.parentNode,l=t.parentNode.getBoundingClientRect(),s=l.top;if(t.previousElementSibling){let e=[...t.parentNode.childNodes],n=e.slice(0,e.indexOf(t)+1).reverse().find((e=>"BR"==e.tagName));n&&(l=n.getBoundingClientRect(),s=l.top?l.top:s)}let r=function(e){for(;e.parentNode&&e.parentNode.tagName;)if(e=e.parentNode,"relative"==window.getComputedStyle(e).getPropertyValue("position").toLowerCase())return e.getBoundingClientRect();return{top:-window.scrollY,left:0}}(e),o=s-r.top;s<30&&(o=30),e.style.top=`${o}px`,n(9,d=d||10);let i=d-e.offsetWidth/2;i=i>0?i:10,i=d+e.offsetWidth/2<window.innerWidth?i:window.innerWidth-e.offsetWidth,e.style.left=i-r.left+"px"},d,i,c,f,function(){s=this.value,n(1,s)},function(){l=this.value,n(0,l)},function(){o=this.value,n(3,o)},function(){r.autoplay=this.checked,n(2,r)},function(){r.muted=this.checked,n(2,r)},function(){r.loop=this.checked,n(2,r)},function(){r.controls=this.checked,n(2,r)}]}class An extends ne{constructor(e){super(),te(this,e,In,Tn,o,{alt:0,src:1,opts:2,klass:3,setMedia:10,delMedia:4,cancel:11,media_type:5,mouseX:9,base_node:12})}}function Bn(e){return JSON.parse(JSON.stringify(e))}var Dn={arr:[],i:-1,add(e){this.arr[++this.i]=Bn(e)},update(e){this.arr[this.i]=Bn(e)},prev(){return 0==this.i?Bn(this.arr[0]):Bn(this.arr[--this.i])},next(){return this.i>=this.arr.length-1?Bn(this.arr[this.arr.length-1]):Bn(this.arr[++this.i])}};function Vn(e,t,n){const l=e.slice();return l[46]=t[n],l[47]=t,l[48]=n,l}function Rn(e){let t,n;return t=new Mn({props:{setGClass:e[4],setClass:e[3],base_node:e[5],g_classes:e[7],classes:e[6],href:e[8],blank:e[9],mouseX:e[10]}}),t.$on("close",e[16]),{c(){J(t.$$.fragment)},m(e,l){Q(t,e,l),n=!0},p(e,n){const l={};16&n[0]&&(l.setGClass=e[4]),8&n[0]&&(l.setClass=e[3]),32&n[0]&&(l.base_node=e[5]),128&n[0]&&(l.g_classes=e[7]),64&n[0]&&(l.classes=e[6]),256&n[0]&&(l.href=e[8]),512&n[0]&&(l.blank=e[9]),1024&n[0]&&(l.mouseX=e[10]),t.$set(l)},i(e){n||(F(t.$$.fragment,e),n=!0)},o(e){K(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function zn(e){let n,l;const s=[{setMedia:e[20]},{delMedia:e[21]},{cancel:e[31]},{base_node:e[5]},e[12],{mouseX:e[10]}];let r={};for(let e=0;e<s.length;e+=1)r=t(r,s[e]);return n=new An({props:r}),{c(){J(n.$$.fragment)},m(e,t){Q(n,e,t),l=!0},p(e,t){const l=3152928&t[0]?function(e,t){const n={},l={},s={$$scope:1};let r=e.length;for(;r--;){const o=e[r],i=t[r];if(i){for(const e in o)e in i||(l[e]=1);for(const e in i)s[e]||(n[e]=i[e],s[e]=1);e[r]=i}else for(const e in o)s[e]=1}for(const e in l)e in n||(n[e]=void 0);return n}(s,[1048576&t[0]&&{setMedia:e[20]},2097152&t[0]&&{delMedia:e[21]},2048&t[0]&&{cancel:e[31]},32&t[0]&&{base_node:e[5]},4096&t[0]&&(r=e[12],"object"==typeof r&&null!==r?r:{}),1024&t[0]&&{mouseX:e[10]}]):{};var r;n.$set(l)},i(e){l||(F(n.$$.fragment,e),l=!0)},o(e){K(n.$$.fragment,e),l=!1},d(e){ee(n,e)}}}function On(e){let t,n,l,s;function r(t){e[32].call(null,t,e[46])}function o(t){e[33].call(null,t,e[46])}let i={editable:e[1],custom:!!e[46].custom};return void 0!==e[46].html&&(i.html=e[46].html),void 0!==e[46].klass&&(i.gklass=e[46].klass),t=new Ee({props:i}),T.push((()=>Y(t,"html",r))),T.push((()=>Y(t,"gklass",o))),t.$on("back",e[26]),t.$on("forward",e[27]),t.$on("enter",(function(...t){return e[34](e[48],...t)})),t.$on("merge_prev",(function(...t){return e[35](e[48],...t)})),t.$on("merge_next",(function(...t){return e[36](e[48],...t)})),t.$on("select",e[15]),t.$on("hideselect",e[16]),t.$on("set_media",e[19]),t.$on("input",e[23]),t.$on("changeClass",e[25]),t.$on("blur",e[24]),t.$on("update",e[24]),t.$on("pasteTxt",(function(...t){return e[37](e[48],...t)})),{c(){J(t.$$.fragment)},m(e,n){Q(t,e,n),s=!0},p(s,r){e=s;const o={};2&r[0]&&(o.editable=e[1]),1&r[0]&&(o.custom=!!e[46].custom),!n&&1&r[0]&&(n=!0,o.html=e[46].html,O((()=>n=!1))),!l&&1&r[0]&&(l=!0,o.gklass=e[46].klass,O((()=>l=!1))),t.$set(o)},i(e){s||(F(t.$$.fragment,e),s=!0)},o(e){K(t.$$.fragment,e),s=!1},d(e){ee(t,e)}}}function Sn(e){let t,n,l,r,o,i,a,u=e[2]&&e[1]&&Rn(e),m=e[11]&&e[1]&&zn(e),h=e[0],b=[];for(let t=0;t<h.length;t+=1)b[t]=On(Vn(e,h,t));const w=e=>K(b[e],1,1,(()=>{b[e]=null}));return{c(){u&&u.c(),t=x(),m&&m.c(),n=x(),l=g("div");for(let e=0;e<b.length;e+=1)b[e].c();v(l,"key","ed")},m(s,f){u&&u.m(s,f),d(s,t,f),m&&m.m(s,f),d(s,n,f),d(s,l,f);for(let e=0;e<b.length;e+=1)b[e].m(l,null);o=!0,i||(a=[$(window,"mousedown",e[22]),c(r=e[14].call(null,l))],i=!0)},p(e,s){if(e[2]&&e[1]?u?(u.p(e,s),6&s[0]&&F(u,1)):(u=Rn(e),u.c(),F(u,1),u.m(t.parentNode,t)):u&&(X(),K(u,1,1,(()=>{u=null})),U()),e[11]&&e[1]?m?(m.p(e,s),2050&s[0]&&F(m,1)):(m=zn(e),m.c(),F(m,1),m.m(n.parentNode,n)):m&&(X(),K(m,1,1,(()=>{m=null})),U()),529506307&s[0]){let t;for(h=e[0],t=0;t<h.length;t+=1){const n=Vn(e,h,t);b[t]?(b[t].p(n,s),F(b[t],1)):(b[t]=On(n),b[t].c(),F(b[t],1),b[t].m(l,null))}for(X(),t=h.length;t<b.length;t+=1)w(t);U()}},i(e){if(!o){F(u),F(m);for(let e=0;e<h.length;e+=1)F(b[e]);o=!0}},o(e){K(u),K(m),b=b.filter(Boolean);for(let e=0;e<b.length;e+=1)K(b[e]);o=!1},d(e){u&&u.d(e),e&&f(t),m&&m.d(e),e&&f(n),e&&f(l),p(b,e),i=!1,s(a)}}}function jn(e,t,n){const l=H();let{arr_html:s=[{html:"",klass:"p-2"}]}=t,{editable:r=!1}=t,{html:o=""}=t,{uid:i=null}=t;async function a(e,t){let l=t.detail.target,r=[...l.parentNode.children].indexOf(l);s.splice(e,1,{html:t.detail.html,klass:t.detail.klass,custom:s[e].custom},{html:t.detail.next_html,klass:""}),n(0,s),await new Promise((e=>setTimeout(e)));let o=[...l.parentNode.children],i=1;for(;o[r+i]&&!o[r+i].getAttribute("contenteditable");)i++;o[r+i]?.focus(),c()}function c(){setTimeout((()=>{Dn.add(s)})),L()}Dn.add(s);let u,d,f,p,g,m,h,x,$,b,v=!1;function w(){n(2,v=!1)}function k(e,t){t>0&&!s[t-1].custom&&(n(0,s[t-1].html+=e.detail,s),s.splice(t,1),n(0,s[t-1].custom=!1,s),n(0,s)),c()}function y(e,t){t+1<s.length&&!s[t+1].custom&&(n(0,s[t].html+=s[t+1].html,s),s.splice(t+1,1),n(0,s[t].custom=!1,s),n(0,s)),c()}let C=!1,_={};let N=!1;function M(){N&&!v&&(L(),Dn.add(s),N=!1)}function L(){setTimeout((()=>{l("change",{uid:i,arr_html:s})}))}const E=["SPAN","EM","STRONG","SMALL","H1","H2","H3","H4","H5","H6","P"];async function T(e,t){await new Promise((e=>setTimeout(e)));let l=t.detail.children;if(l){let t=[];for(let e of[...l])if(e.dataset?.uid?.startsWith("0x")){e=e.children[0];for(let n of[...e.children])t.push({html:n.innerHTML,klass:n?.getAttribute("class")||""})}else e.dataset.txteditor?t.push({html:e.innerHTML,klass:e.getAttribute("class")}):e.children.length||t.push({html:e.innerText,klass:""});t.length?e<s.length?n(0,s=s.slice(0,e).concat(t).concat(s.slice(e+1,s.length))):n(0,s=s.slice(0,e).concat(t)):(l.length&&n(0,s[e].custom=!0,s),E.includes(l?.[0]?.tagName)&&n(0,s[e].html=`<div>${l[0].innerHTML}</div>`,s),n(0,s)),c()}}return e.$$set=e=>{"arr_html"in e&&n(0,s=e.arr_html),"editable"in e&&n(1,r=e.editable),"html"in e&&n(29,o=e.html),"uid"in e&&n(30,i=e.uid)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(29,o=s.map((e=>`<div class='${e.klass}'>${e.html}</div>`)).join("\n"))},[s,r,v,u,d,f,p,g,m,h,x,C,_,a,function(e){},function(e){n(5,f=e.detail.base_node),f&&"DIV"!=f.tagName&&(n(2,v=!0),n(3,u=e.detail.setClass),n(4,d=e.detail.setGClass),n(6,p=e.detail.classes),n(7,g=e.detail.g_classes),n(8,m=e.detail.href),n(9,h=e.detail.blank),n(10,x=e.detail.mouseX))},w,k,y,function(e){$=e.detail.setMedia,b=e.detail.delMedia,n(5,f=e.detail.base_node),n(12,_={alt:e.detail.alt||"",src:e.detail.src||"",opts:e.detail.opts||{},klass:e.detail.klass||"",media_type:e.detail.media_type}),n(10,x=e.detail.mouseX),$(_),n(11,C=!0)},function(e){$(e),n(11,C=!1),L()},function(){b(),n(11,C=!1),L()},function(e){let t=function(e){for(;!e.dataset.editor&&e.parentNode&&e.parentNode.tagName;)e=e.parentNode;return!!e.dataset.editor&&e}(e.target);t&&t.dataset.uid===i||(M(),w())},function(e){e?.detail?.currentTarget&&(e.detail.currentTarget.innerText?Dn.update(s):Dn.add(s)),N=!0},M,function(){c()},function(){n(0,s=Dn.prev())},function(){n(0,s=Dn.next())},T,o,i,()=>n(11,C=!1),function(e,t){t.html=e,n(0,s)},function(e,t){t.klass=e,n(0,s)},(e,t)=>a(e,t),(e,t)=>k(t,e),(e,t)=>y(0,e),(e,t)=>T(e,t)]}export default class extends ne{constructor(e){super(),te(this,e,jn,Sn,o,{arr_html:0,editable:1,html:29,uid:30},[-1,-1])}}
